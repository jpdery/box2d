(function(a){var b={},c=function(d){var e=b[d];if(!e){e=b[d]={};var f=e.exports={};a[d].call(f,c,e,f,window)}return e.exports};window.box2d=c("0")})({0:function(a,b,c,d){var e={};e.Vec2=a("1"),e.BodyDef=a("2"),e.Body=a("3"),e.FixtureDef=a("b"),e.Fixture=a("7"),e.World=a("c"),e.MassData=a("a"),e.PolygonShape=a("y"),e.CircleShape=a("z"),e.DebugDraw=a("10"),b.export=e},1:function(a,b,c,d){var e=function(a,b){arguments.length==2&&(this.x=a,this.y=b)};e.Make=function(a,b){return new e(a,b)},e.prototype.SetZero=function(){this.x=0,this.y=0},e.prototype.Set=function(a,b){this.x=a,this.y=b},e.prototype.SetV=function(a){this.x=a.x,this.y=a.y},e.prototype.GetNegative=function(){return new e(-this.x,-this.y)},e.prototype.NegativeSelf=function(){this.x=-this.x,this.y=-this.y},e.prototype.Copy=function(){return new e(this.x,this.y)},e.prototype.Add=function(a){this.x+=a.x,this.y+=a.y},e.prototype.Subtract=function(a){this.x-=a.x,this.y-=a.y},e.prototype.Multiply=function(a){this.x*=a,this.y*=a},e.prototype.MulM=function(a){var b=this.x;this.x=a.col1.x*b+a.col2.x*this.y,this.y=a.col1.y*b+a.col2.y*this.y},e.prototype.MulTM=function(a){var b=b2Math.Dot(this,a.col1);this.y=b2Math.Dot(this,a.col2),this.x=b},e.prototype.CrossVF=function(a){var b=this.x;this.x=a*this.y,this.y=-a*b},e.prototype.CrossFV=function(a){var b=this.x;this.x=-a*this.y,this.y=a*b},e.prototype.MinV=function(a){this.x=this.x<a.x?this.x:a.x,this.y=this.y<a.y?this.y:a.y},e.prototype.MaxV=function(a){this.x=this.x>a.x?this.x:a.x,this.y=this.y>a.y?this.y:a.y},e.prototype.Abs=function(){this.x<0&&(this.x=-this.x),this.y<0&&(this.y=-this.y)},e.prototype.Length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.LengthSquared=function(){return this.x*this.x+this.y*this.y},e.prototype.Normalize=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;return this.x*=b,this.y*=b,a},e.prototype.IsValid=function(){return b2Math.IsValid(this.x)&&b2Math.IsValid(this.y)},e.prototype.x=0,e.prototype.y=0,e.prototype.setZero=e.prototype.SetZero,e.prototype.set=e.prototype.Set,e.prototype.setV=e.prototype.SetV,e.prototype.getNegative=e.prototype.GetNegative,e.prototype.negativeSelf=e.prototype.NegativeSelf,e.prototype.copy=e.prototype.Copy,e.prototype.add=e.prototype.Add,e.prototype.subtract=e.prototype.Subtract,e.prototype.multiply=e.prototype.Multiply,e.prototype.mulM=e.prototype.MulM,e.prototype.mulTM=e.prototype.MulTM,e.prototype.crossVF=e.prototype.CrossVF,e.prototype.crossFV=e.prototype.CrossFV,e.prototype.minV=e.prototype.MinV,e.prototype.maxV=e.prototype.MaxV,e.prototype.abs=e.prototype.Abs,e.prototype.length=e.prototype.Length,e.prototype.lengthSquared=e.prototype.LengthSquared,e.prototype.normalize=e.prototype.Normalize,e.prototype.isValid=e.prototype.IsValid,b.exports=e},2:function(a,b,c,d){var e=a("1"),f=function(){this.__varz(),this.__constructor.apply(this,arguments)};f.prototype.__constructor=function(){this.userData=null,this.position.Set(0,0),this.angle=0,this.linearVelocity.Set(0,0),this.angularVelocity=0,this.linearDamping=0,this.angularDamping=0,this.allowSleep=!0,this.awake=!0,this.fixedRotation=!1,this.bullet=!1,this.type=b2Body.b2_staticBody,this.active=!0,this.inertiaScale=1},f.prototype.__varz=function(){this.position=new e,this.linearVelocity=new e},f.prototype.type=0,f.prototype.position=new e,f.prototype.angle=null,f.prototype.linearVelocity=new e,f.prototype.angularVelocity=null,f.prototype.linearDamping=null,f.prototype.angularDamping=null,f.prototype.allowSleep=null,f.prototype.awake=null,f.prototype.fixedRotation=null,f.prototype.bullet=null,f.prototype.active=null,f.prototype.userData=null,f.prototype.inertiaScale=null,b.exports=f},3:function(a,b,c,d){var e=a("4"),f=a("6"),g=a("1"),h=a("7"),i=a("b"),j=a("2"),k=function(){this.__varz(),this.__constructor.apply(this,arguments)};k.prototype.__constructor=function(a,b){this.m_flags=0,a.bullet&&(this.m_flags|=k.e_bulletFlag),a.fixedRotation&&(this.m_flags|=k.e_fixedRotationFlag),a.allowSleep&&(this.m_flags|=k.e_allowSleepFlag),a.awake&&(this.m_flags|=k.e_awakeFlag),a.active&&(this.m_flags|=k.e_activeFlag),this.m_world=b,this.m_xf.position.SetV(a.position),this.m_xf.R.Set(a.angle),this.m_sweep.localCenter.SetZero(),this.m_sweep.t0=1,this.m_sweep.a0=this.m_sweep.a=a.angle;var c=this.m_xf.R,d=this.m_sweep.localCenter;this.m_sweep.c.x=c.col1.x*d.x+c.col2.x*d.y,this.m_sweep.c.y=c.col1.y*d.x+c.col2.y*d.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,this.m_sweep.c0.SetV(this.m_sweep.c),this.m_jointList=null,this.m_controllerList=null,this.m_contactList=null,this.m_controllerCount=0,this.m_prev=null,this.m_next=null,this.m_linearVelocity.SetV(a.linearVelocity),this.m_angularVelocity=a.angularVelocity,this.m_linearDamping=a.linearDamping,this.m_angularDamping=a.angularDamping,this.m_force.Set(0,0),this.m_torque=0,this.m_sleepTime=0,this.m_type=a.type,this.m_type==k.b2_dynamicBody?(this.m_mass=1,this.m_invMass=1):(this.m_mass=0,this.m_invMass=0),this.m_I=0,this.m_invI=0,this.m_inertiaScale=a.inertiaScale,this.m_userData=a.userData,this.m_fixtureList=null,this.m_fixtureCount=0},k.prototype.__varz=function(){this.m_xf=new e,this.m_sweep=new f,this.m_linearVelocity=new g,this.m_force=new g},k.b2_staticBody=0,k.b2_kinematicBody=1,k.b2_dynamicBody=2,k.s_xf1=new e,k.e_islandFlag=1,k.e_awakeFlag=2,k.e_allowSleepFlag=4,k.e_bulletFlag=8,k.e_fixedRotationFlag=16,k.e_activeFlag=32,k.prototype.connectEdges=function(a,b,c){var d=Math.atan2(b.GetDirectionVector().y,b.GetDirectionVector().x),e=Math.tan((d-c)*.5),f=b2Math.MulFV(e,b.GetDirectionVector());f=b2Math.SubtractVV(f,b.GetNormalVector()),f=b2Math.MulFV(b2Settings.b2_toiSlop,f),f=b2Math.AddVV(f,b.GetVertex1());var g=b2Math.AddVV(a.GetDirectionVector(),b.GetDirectionVector());g.Normalize();var h=b2Math.Dot(a.GetDirectionVector(),b.GetNormalVector())>0;return a.SetNextEdge(b,f,g,h),b.SetPrevEdge(a,f,g,h),d},k.prototype.SynchronizeFixtures=function(){var a=k.s_xf1;a.R.Set(this.m_sweep.a0);var b=a.R,c=this.m_sweep.localCenter;a.position.x=this.m_sweep.c0.x-(b.col1.x*c.x+b.col2.x*c.y),a.position.y=this.m_sweep.c0.y-(b.col1.y*c.x+b.col2.y*c.y);var d,e=this.m_world.m_contactManager.m_broadPhase;for(d=this.m_fixtureList;d;d=d.m_next)d.Synchronize(e,a,this.m_xf)},k.prototype.SynchronizeTransform=function(){this.m_xf.R.Set(this.m_sweep.a);var a=this.m_xf.R,b=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-(a.col1.x*b.x+a.col2.x*b.y),this.m_xf.position.y=this.m_sweep.c.y-(a.col1.y*b.x+a.col2.y*b.y)},k.prototype.ShouldCollide=function(a){if(this.m_type!=k.b2_dynamicBody&&a.m_type!=k.b2_dynamicBody)return!1;for(var b=this.m_jointList;b;b=b.next)if(b.other==a&&b.joint.m_collideConnected==0)return!1;return!0},k.prototype.Advance=function(a){this.m_sweep.Advance(a),this.m_sweep.c.SetV(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.SynchronizeTransform()},k.prototype.CreateFixture=function(a){if(this.m_world.IsLocked()==1)return null;var b=new h;b.Create(this,this.m_xf,a);if(this.m_flags&k.e_activeFlag){var c=this.m_world.m_contactManager.m_broadPhase;b.CreateProxy(c,this.m_xf)}return b.m_next=this.m_fixtureList,this.m_fixtureList=b,++this.m_fixtureCount,b.m_body=this,b.m_density>0&&this.ResetMassData(),this.m_world.m_flags|=b2World.e_newFixture,b},k.prototype.CreateFixture2=function(a,b){var c=new i;return c.shape=a,c.density=b,this.CreateFixture(c)},k.prototype.DestroyFixture=function(a){if(this.m_world.IsLocked()==1)return;var b=this.m_fixtureList,c=null,d=!1;while(b!=null){if(b==a){c?c.m_next=a.m_next:this.m_fixtureList=a.m_next,d=!0;break}c=b,b=b.m_next}var e=this.m_contactList;while(e){var f=e.contact;e=e.next;var g=f.GetFixtureA(),h=f.GetFixtureB();(a==g||a==h)&&this.m_world.m_contactManager.Destroy(f)}if(this.m_flags&k.e_activeFlag){var i=this.m_world.m_contactManager.m_broadPhase;a.DestroyProxy(i)}a.Destroy(),a.m_body=null,a.m_next=null,--this.m_fixtureCount,this.ResetMassData()},k.prototype.SetPositionAndAngle=function(a,b){var c;if(this.m_world.IsLocked()==1)return;this.m_xf.R.Set(b),this.m_xf.position.SetV(a);var d=this.m_xf.R,e=this.m_sweep.localCenter;this.m_sweep.c.x=d.col1.x*e.x+d.col2.x*e.y,this.m_sweep.c.y=d.col1.y*e.x+d.col2.y*e.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,this.m_sweep.c0.SetV(this.m_sweep.c),this.m_sweep.a0=this.m_sweep.a=b;var f=this.m_world.m_contactManager.m_broadPhase;for(c=this.m_fixtureList;c;c=c.m_next)c.Synchronize(f,this.m_xf,this.m_xf);this.m_world.m_contactManager.FindNewContacts()},k.prototype.SetTransform=function(a){this.SetPositionAndAngle(a.position,a.GetAngle())},k.prototype.GetTransform=function(){return this.m_xf},k.prototype.GetPosition=function(){return this.m_xf.position},k.prototype.SetPosition=function(a){this.SetPositionAndAngle(a,this.GetAngle())},k.prototype.GetAngle=function(){return this.m_sweep.a},k.prototype.SetAngle=function(a){this.SetPositionAndAngle(this.GetPosition(),a)},k.prototype.GetWorldCenter=function(){return this.m_sweep.c},k.prototype.GetLocalCenter=function(){return this.m_sweep.localCenter},k.prototype.SetLinearVelocity=function(a){if(this.m_type==k.b2_staticBody)return;this.m_linearVelocity.SetV(a)},k.prototype.GetLinearVelocity=function(){return this.m_linearVelocity},k.prototype.SetAngularVelocity=function(a){if(this.m_type==k.b2_staticBody)return;this.m_angularVelocity=a},k.prototype.GetAngularVelocity=function(){return this.m_angularVelocity},k.prototype.GetDefinition=function(){var a=new j;return a.type=this.GetType(),a.allowSleep=(this.m_flags&k.e_allowSleepFlag)==k.e_allowSleepFlag,a.angle=this.GetAngle(),a.angularDamping=this.m_angularDamping,a.angularVelocity=this.m_angularVelocity,a.fixedRotation=(this.m_flags&k.e_fixedRotationFlag)==k.e_fixedRotationFlag,a.bullet=(this.m_flags&k.e_bulletFlag)==k.e_bulletFlag,a.awake=(this.m_flags&k.e_awakeFlag)==k.e_awakeFlag,a.linearDamping=this.m_linearDamping,a.linearVelocity.SetV(this.GetLinearVelocity()),a.position=this.GetPosition(),a.userData=this.GetUserData(),a},k.prototype.ApplyForce=function(a,b){if(this.m_type!=k.b2_dynamicBody)return;this.IsAwake()==0&&this.SetAwake(!0),this.m_force.x+=a.x,this.m_force.y+=a.y,this.m_torque+=(b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x},k.prototype.ApplyTorque=function(a){if(this.m_type!=k.b2_dynamicBody)return;this.IsAwake()==0&&this.SetAwake(!0),this.m_torque+=a},k.prototype.ApplyImpulse=function(a,b){if(this.m_type!=k.b2_dynamicBody)return;this.IsAwake()==0&&this.SetAwake(!0),this.m_linearVelocity.x+=this.m_invMass*a.x,this.m_linearVelocity.y+=this.m_invMass*a.y,this.m_angularVelocity+=this.m_invI*((b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x)},k.prototype.Split=function(a){var b=this.GetLinearVelocity().Copy(),c=this.GetAngularVelocity(),d=this.GetWorldCenter(),e=this,f=this.m_world.CreateBody(this.GetDefinition()),g;for(var h=e.m_fixtureList;h;)if(a(h)){var i=h.m_next;g?g.m_next=i:e.m_fixtureList=i,e.m_fixtureCount--,h.m_next=f.m_fixtureList,f.m_fixtureList=h,f.m_fixtureCount++,h.m_body=f,h=i}else g=h,h=h.m_next;e.ResetMassData(),f.ResetMassData();var j=e.GetWorldCenter(),k=f.GetWorldCenter(),l=b2Math.AddVV(b,b2Math.CrossFV(c,b2Math.SubtractVV(j,d))),m=b2Math.AddVV(b,b2Math.CrossFV(c,b2Math.SubtractVV(k,d)));return e.SetLinearVelocity(l),f.SetLinearVelocity(m),e.SetAngularVelocity(c),f.SetAngularVelocity(c),e.SynchronizeFixtures(),f.SynchronizeFixtures(),f},k.prototype.Merge=function(a){var b;for(b=a.m_fixtureList;b;){var c=b.m_next;a.m_fixtureCount--,b.m_next=this.m_fixtureList,this.m_fixtureList=b,this.m_fixtureCount++,b.m_body=e,b=c}d.m_fixtureCount=0;var d=this,e=a,f=d.GetWorldCenter(),g=e.GetWorldCenter(),h=d.GetLinearVelocity().Copy(),i=e.GetLinearVelocity().Copy(),j=d.GetAngularVelocity(),k=e.GetAngularVelocity();d.ResetMassData(),this.SynchronizeFixtures()},k.prototype.GetMass=function(){return this.m_mass},k.prototype.GetInertia=function(){return this.m_I},k.prototype.GetMassData=function(a){a.mass=this.m_mass,a.I=this.m_I,a.center.SetV(this.m_sweep.localCenter)},k.prototype.SetMassData=function(a){b2Settings.b2Assert(this.m_world.IsLocked()==0);if(this.m_world.IsLocked()==1)return;if(this.m_type!=k.b2_dynamicBody)return;this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=a.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,a.I>0&&(this.m_flags&k.e_fixedRotationFlag)==0&&(this.m_I=a.I-this.m_mass*(a.center.x*a.center.x+a.center.y*a.center.y),this.m_invI=1/this.m_I);var b=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV(a.center),this.m_sweep.c0.SetV(b2Math.MulX(this.m_xf,this.m_sweep.localCenter)),this.m_sweep.c.SetV(this.m_sweep.c0),this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-b.y),this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-b.x)},k.prototype.ResetMassData=function(){this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.SetZero();if(this.m_type==k.b2_staticBody||this.m_type==k.b2_kinematicBody)return;var a=g.Make(0,0);for(var b=this.m_fixtureList;b;b=b.m_next){if(b.m_density==0)continue;var c=b.GetMassData();this.m_mass+=c.mass,a.x+=c.center.x*c.mass,a.y+=c.center.y*c.mass,this.m_I+=c.I}this.m_mass>0?(this.m_invMass=1/this.m_mass,a.x*=this.m_invMass,a.y*=this.m_invMass):(this.m_mass=1,this.m_invMass=1),this.m_I>0&&(this.m_flags&k.e_fixedRotationFlag)==0?(this.m_I-=this.m_mass*(a.x*a.x+a.y*a.y),this.m_I*=this.m_inertiaScale,b2Settings.b2Assert(this.m_I>0),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);var d=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV(a),this.m_sweep.c0.SetV(b2Math.MulX(this.m_xf,this.m_sweep.localCenter)),this.m_sweep.c.SetV(this.m_sweep.c0),this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-d.y),this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-d.x)},k.prototype.GetWorldPoint=function(a){var b=this.m_xf.R,c=new g(b.col1.x*a.x+b.col2.x*a.y,b.col1.y*a.x+b.col2.y*a.y);return c.x+=this.m_xf.position.x,c.y+=this.m_xf.position.y,c},k.prototype.GetWorldVector=function(a){return b2Math.MulMV(this.m_xf.R,a)},k.prototype.GetLocalPoint=function(a){return b2Math.MulXT(this.m_xf,a)},k.prototype.GetLocalVector=function(a){return b2Math.MulTMV(this.m_xf.R,a)},k.prototype.GetLinearVelocityFromWorldPoint=function(a){return new g(this.m_linearVelocity.x-this.m_angularVelocity*(a.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(a.x-this.m_sweep.c.x))},k.prototype.GetLinearVelocityFromLocalPoint=function(a){var b=this.m_xf.R,c=new g(b.col1.x*a.x+b.col2.x*a.y,b.col1.y*a.x+b.col2.y*a.y);return c.x+=this.m_xf.position.x,c.y+=this.m_xf.position.y,new g(this.m_linearVelocity.x-this.m_angularVelocity*(c.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(c.x-this.m_sweep.c.x))},k.prototype.GetLinearDamping=function(){return this.m_linearDamping},k.prototype.SetLinearDamping=function(a){this.m_linearDamping=a},k.prototype.GetAngularDamping=function(){return this.m_angularDamping},k.prototype.SetAngularDamping=function(a){this.m_angularDamping=a},k.prototype.SetType=function(a){if(this.m_type==a)return;this.m_type=a,this.ResetMassData(),this.m_type==k.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0;for(var b=this.m_contactList;b;b=b.next)b.contact.FlagForFiltering()},k.prototype.GetType=function(){return this.m_type},k.prototype.SetBullet=function(a){a?this.m_flags|=k.e_bulletFlag:this.m_flags&=~k.e_bulletFlag},k.prototype.IsBullet=function(){return(this.m_flags&k.e_bulletFlag)==k.e_bulletFlag},k.prototype.SetSleepingAllowed=function(a){a?this.m_flags|=k.e_allowSleepFlag:(this.m_flags&=~k.e_allowSleepFlag,this.SetAwake(!0))},k.prototype.SetAwake=function(a){a?(this.m_flags|=k.e_awakeFlag,this.m_sleepTime=0):(this.m_flags&=~k.e_awakeFlag,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)},k.prototype.IsAwake=function(){return(this.m_flags&k.e_awakeFlag)==k.e_awakeFlag},k.prototype.SetFixedRotation=function(a){a?this.m_flags|=k.e_fixedRotationFlag:this.m_flags&=~k.e_fixedRotationFlag,this.ResetMassData()},k.prototype.IsFixedRotation=function(){return(this.m_flags&k.e_fixedRotationFlag)==k.e_fixedRotationFlag},k.prototype.SetActive=function(a){if(a==this.IsActive())return;var b,c;if(a){this.m_flags|=k.e_activeFlag,b=this.m_world.m_contactManager.m_broadPhase;for(c=this.m_fixtureList;c;c=c.m_next)c.CreateProxy(b,this.m_xf)}else{this.m_flags&=~k.e_activeFlag,b=this.m_world.m_contactManager.m_broadPhase;for(c=this.m_fixtureList;c;c=c.m_next)c.DestroyProxy(b);var d=this.m_contactList;while(d){var e=d;d=d.next,this.m_world.m_contactManager.Destroy(e.contact)}this.m_contactList=null}},k.prototype.IsActive=function(){return(this.m_flags&k.e_activeFlag)==k.e_activeFlag},k.prototype.IsSleepingAllowed=function(){return(this.m_flags&k.e_allowSleepFlag)==k.e_allowSleepFlag},k.prototype.GetFixtureList=function(){return this.m_fixtureList},k.prototype.GetJointList=function(){return this.m_jointList},k.prototype.GetControllerList=function(){return this.m_controllerList},k.prototype.GetContactList=function(){return this.m_contactList},k.prototype.GetNext=function(){return this.m_next},k.prototype.GetUserData=function(){return this.m_userData},k.prototype.SetUserData=function(a){this.m_userData=a},k.prototype.GetWorld=function(){return this.m_world},k.prototype.m_flags=0,k.prototype.m_type=0,k.prototype.m_islandIndex=0,k.prototype.m_xf=new e,k.prototype.m_sweep=new f,k.prototype.m_linearVelocity=new g,k.prototype.m_angularVelocity=null,k.prototype.m_force=new g,k.prototype.m_torque=null,k.prototype.m_world=null,k.prototype.m_prev=null,k.prototype.m_next=null,k.prototype.m_fixtureList=null,k.prototype.m_fixtureCount=0,k.prototype.m_controllerList=null,k.prototype.m_controllerCount=0,k.prototype.m_jointList=null,k.prototype.m_contactList=null,k.prototype.m_mass=null,k.prototype.m_invMass=null,k.prototype.m_I=null,k.prototype.m_invI=null,k.prototype.m_inertiaScale=null,k.prototype.m_linearDamping=null,k.prototype.m_angularDamping=null,k.prototype.m_sleepTime=null,k.prototype.m_userData=null,k.prototype.connectEdges=k.prototype.connectEdges,k.prototype.synchronizeFixtures=k.prototype.SynchronizeFixtures,k.prototype.synchronizeTransform=k.prototype.SynchronizeTransform,k.prototype.shouldCollide=k.prototype.ShouldCollide,k.prototype.advance=k.prototype.Advance,k.prototype.createFixture=k.prototype.CreateFixture,k.prototype.createFixture2=k.prototype.CreateFixture2,k.prototype.destroyFixture=k.prototype.DestroyFixture,k.prototype.setPositionAndAngle=k.prototype.SetPositionAndAngle,k.prototype.setTransform=k.prototype.SetTransform,k.prototype.getTransform=k.prototype.GetTransform,k.prototype.getPosition=k.prototype.GetPosition,k.prototype.setPosition=k.prototype.SetPosition,k.prototype.getAngle=k.prototype.GetAngle,k.prototype.setAngle=k.prototype.SetAngle,k.prototype.getWorldCenter=k.prototype.GetWorldCenter,k.prototype.getLocalCenter=k.prototype.GetLocalCenter,k.prototype.setLinearVelocity=k.prototype.SetLinearVelocity,k.prototype.getLinearVelocity=k.prototype.GetLinearVelocity,k.prototype.setAngularVelocity=k.prototype.SetAngularVelocity,k.prototype.getAngularVelocity=k.prototype.GetAngularVelocity,k.prototype.getDefinition=k.prototype.GetDefinition,k.prototype.applyForce=k.prototype.ApplyForce,k.prototype.applyTorque=k.prototype.ApplyTorque,k.prototype.applyImpulse=k.prototype.ApplyImpulse,k.prototype.split=k.prototype.Split,k.prototype.merge=k.prototype.Merge,k.prototype.getMass=k.prototype.GetMass,k.prototype.getInertia=k.prototype.GetInertia,k.prototype.getMassData=k.prototype.GetMassData,k.prototype.setMassData=k.prototype.SetMassData,k.prototype.resetMassData=k.prototype.ResetMassData,k.prototype.getWorldPoint=k.prototype.GetWorldPoint,k.prototype.getWorldVector=k.prototype.GetWorldVector,k.prototype.getLocalPoint=k.prototype.GetLocalPoint,k.prototype.getLocalVector=k.prototype.GetLocalVector,k.prototype.getLinearVelocityFromWorldPoint=k.prototype.GetLinearVelocityFromWorldPoint,k.prototype.getLinearVelocityFromLocalPoint=k.prototype.GetLinearVelocityFromLocalPoint,k.prototype.getLinearDamping=k.prototype.GetLinearDamping,k.prototype.setLinearDamping=k.prototype.SetLinearDamping,k.prototype.getAngularDamping=k.prototype.GetAngularDamping,k.prototype.setAngularDamping=k.prototype.SetAngularDamping,k.prototype.setType=k.prototype.SetType,k.prototype.getType=k.prototype.GetType,k.prototype.setBullet=k.prototype.SetBullet,k.prototype.isBullet=k.prototype.IsBullet,k.prototype.setSleepingAllowed=k.prototype.SetSleepingAllowed,k.prototype.setAwake=k.prototype.SetAwake,k.prototype.isAwake=k.prototype.IsAwake,k.prototype.setFixedRotation=k.prototype.SetFixedRotation,k.prototype.isFixedRotation=k.prototype.IsFixedRotation,k.prototype.setActive=k.prototype.SetActive,k.prototype.isActive=k.prototype.IsActive,k.prototype.isSleepingAllowed=k.prototype.IsSleepingAllowed,k.prototype.getFixtureList=k.prototype.GetFixtureList,k.prototype.getJointList=k.prototype.GetJointList,k.prototype.getControllerList=k.prototype.GetControllerList,k.prototype.getContactList=k.prototype.GetContactList,k.prototype.getNext=k.prototype.GetNext,k.prototype.getUserData=k.prototype.GetUserData,k.prototype.setUserData=k.prototype.SetUserData,k.prototype.getWorld=k.prototype.GetWorld,b.exports=k},4:function(a,b,c,d){var e=a("1"),f=a("5"),g=function(){this.__varz(),this.__constructor.apply(this,arguments)};g.prototype.__constructor=function(a,b){a&&(this.position.SetV(a),this.R.SetM(b))},g.prototype.__varz=function(){this.position=new e,this.R=new f},g.prototype.Initialize=function(a,b){this.position.SetV(a),this.R.SetM(b)},g.prototype.SetIdentity=function(){this.position.SetZero(),this.R.SetIdentity()},g.prototype.Set=function(a){this.position.SetV(a.position),this.R.SetM(a.R)},g.prototype.GetAngle=function(){return Math.atan2(this.R.col1.y,this.R.col1.x)},g.prototype.position=new e,g.prototype.R=new f,g.prototype.initialize=g.prototype.Initialize,g.prototype.setIdentity=g.prototype.SetIdentity,g.prototype.set=g.prototype.Set,g.prototype.getAngle=g.prototype.GetAngle,b.exports=g},5:function(a,b,c,d){var e=a("1"),f=function(){this.__varz(),this.__constructor.apply(this,arguments)};f.prototype.__constructor=function(){this.col1.x=this.col2.y=1},f.prototype.__varz=function(){this.col1=new e,this.col2=new e},f.FromAngle=function(a){var b=new f;return b.Set(a),b},f.FromVV=function(a,b){var c=new f;return c.SetVV(a,b),c},f.prototype.Set=function(a){var b=Math.cos(a),c=Math.sin(a);this.col1.x=b,this.col2.x=-c,this.col1.y=c,this.col2.y=b},f.prototype.SetVV=function(a,b){this.col1.SetV(a),this.col2.SetV(b)},f.prototype.Copy=function(){var a=new f;return a.SetM(this),a},f.prototype.SetM=function(a){this.col1.SetV(a.col1),this.col2.SetV(a.col2)},f.prototype.AddM=function(a){this.col1.x+=a.col1.x,this.col1.y+=a.col1.y,this.col2.x+=a.col2.x,this.col2.y+=a.col2.y},f.prototype.SetIdentity=function(){this.col1.x=1,this.col2.x=0,this.col1.y=0,this.col2.y=1},f.prototype.SetZero=function(){this.col1.x=0,this.col2.x=0,this.col1.y=0,this.col2.y=0},f.prototype.GetAngle=function(){return Math.atan2(this.col1.y,this.col1.x)},f.prototype.GetInverse=function(a){var b=this.col1.x,c=this.col2.x,d=this.col1.y,e=this.col2.y,f=b*e-c*d;return f!=0&&(f=1/f),a.col1.x=f*e,a.col2.x=-f*c,a.col1.y=-f*d,a.col2.y=f*b,a},f.prototype.Solve=function(a,b,c){var d=this.col1.x,e=this.col2.x,f=this.col1.y,g=this.col2.y,h=d*g-e*f;return h!=0&&(h=1/h),a.x=h*(g*b-e*c),a.y=h*(d*c-f*b),a},f.prototype.Abs=function(){this.col1.Abs(),this.col2.Abs()},f.prototype.col1=new e,f.prototype.col2=new e,f.prototype.set=f.prototype.Set,f.prototype.setVV=f.prototype.SetVV,f.prototype.copy=f.prototype.Copy,f.prototype.setM=f.prototype.SetM,f.prototype.addM=f.prototype.AddM,f.prototype.setIdentity=f.prototype.SetIdentity,f.prototype.setZero=f.prototype.SetZero,f.prototype.getAngle=f.prototype.GetAngle,f.prototype.getInverse=f.prototype.GetInverse,f.prototype.solve=f.prototype.Solve,f.prototype.abs=f.prototype.Abs,b.exports=f},6:function(a,b,c,d){var e=a("1"),f=function(){this.__varz(),this.__constructor.apply(this,arguments)};f.prototype.__constructor=function(){},f.prototype.__varz=function(){this.localCenter=new e,this.c0=new e,this.c=new e},f.prototype.Set=function(a){this.localCenter.SetV(a.localCenter),this.c0.SetV(a.c0),this.c.SetV(a.c),this.a0=a.a0,this.a=a.a,this.t0=a.t0},f.prototype.Copy=function(){var a=new f;return a.localCenter.SetV(this.localCenter),a.c0.SetV(this.c0),a.c.SetV(this.c),a.a0=this.a0,a.a=this.a,a.t0=this.t0,a},f.prototype.GetTransform=function(a,b){a.position.x=(1-b)*this.c0.x+b*this.c.x,a.position.y=(1-b)*this.c0.y+b*this.c.y;var c=(1-b)*this.a0+b*this.a;a.R.Set(c);var d=a.R;a.position.x-=d.col1.x*this.localCenter.x+d.col2.x*this.localCenter.y,a.position.y-=d.col1.y*this.localCenter.x+d.col2.y*this.localCenter.y},f.prototype.Advance=function(a){if(this.t0<a&&1-this.t0>Number.MIN_VALUE){var b=(a-this.t0)/(1-this.t0);this.c0.x=(1-b)*this.c0.x+b*this.c.x,this.c0.y=(1-b)*this.c0.y+b*this.c.y,this.a0=(1-b)*this.a0+b*this.a,this.t0=a}},f.prototype.localCenter=new e,f.prototype.c0=new e,f.prototype.c=new e,f.prototype.a0=null,f.prototype.a=null,f.prototype.t0=null,f.prototype.set=f.prototype.Set,f.prototype.copy=f.prototype.Copy,f.prototype.getTransform=f.prototype.GetTransform,f.prototype.advance=f.prototype.Advance,b.exports=f},7:function(a,b,c,d){var e=a("8"),f=a("9"),g=a("a"),h=function(){this.__varz(),this.__constructor.apply(this,arguments)};h.prototype.__constructor=function(){this.m_aabb=new e,this.m_userData=null,this.m_body=null,this.m_next=null,this.m_shape=null,this.m_density=0,this.m_friction=0,this.m_restitution=0},h.prototype.__varz=function(){this.m_filter=new f},h.prototype.Create=function(a,b,c){this.m_userData=c.userData,this.m_friction=c.friction,this.m_restitution=c.restitution,this.m_body=a,this.m_next=null,this.m_filter=c.filter.Copy(),this.m_isSensor=c.isSensor,this.m_shape=c.shape.Copy(),this.m_density=c.density},h.prototype.Destroy=function(){this.m_shape=null},h.prototype.CreateProxy=function(a,b){this.m_shape.ComputeAABB(this.m_aabb,b),this.m_proxy=a.CreateProxy(this.m_aabb,this)},h.prototype.DestroyProxy=function(a){if(this.m_proxy==null)return;a.DestroyProxy(this.m_proxy),this.m_proxy=null},h.prototype.Synchronize=function(a,b,c){if(!this.m_proxy)return;var d=new e,f=new e;this.m_shape.ComputeAABB(d,b),this.m_shape.ComputeAABB(f,c),this.m_aabb.Combine(d,f);var g=b2Math.SubtractVV(c.position,b.position);a.MoveProxy(this.m_proxy,this.m_aabb,g)},h.prototype.GetType=function(){return this.m_shape.GetType()},h.prototype.GetShape=function(){return this.m_shape},h.prototype.SetSensor=function(a){if(this.m_isSensor==a)return;this.m_isSensor=a;if(this.m_body==null)return;var b=this.m_body.GetContactList();while(b){var c=b.contact,d=c.GetFixtureA(),e=c.GetFixtureB();(d==this||e==this)&&c.SetSensor(d.IsSensor()||e.IsSensor()),b=b.next}},h.prototype.IsSensor=function(){return this.m_isSensor},h.prototype.SetFilterData=function(a){this.m_filter=a.Copy();if(this.m_body)return;var b=this.m_body.GetContactList();while(b){var c=b.contact,d=c.GetFixtureA(),e=c.GetFixtureB();(d==this||e==this)&&c.FlagForFiltering(),b=b.next}},h.prototype.GetFilterData=function(){return this.m_filter.Copy()},h.prototype.GetBody=function(){return this.m_body},h.prototype.GetNext=function(){return this.m_next},h.prototype.GetUserData=function(){return this.m_userData},h.prototype.SetUserData=function(a){this.m_userData=a},h.prototype.TestPoint=function(a){return this.m_shape.TestPoint(this.m_body.GetTransform(),a)},h.prototype.RayCast=function(a,b){return this.m_shape.RayCast(a,b,this.m_body.GetTransform())},h.prototype.GetMassData=function(a){return a==null&&(a=new g),this.m_shape.ComputeMass(a,this.m_density),a},h.prototype.SetDensity=function(a){this.m_density=a},h.prototype.GetDensity=function(){return this.m_density},h.prototype.GetFriction=function(){return this.m_friction},h.prototype.SetFriction=function(a){this.m_friction=a},h.prototype.GetRestitution=function(){return this.m_restitution},h.prototype.SetRestitution=function(a){this.m_restitution=a},h.prototype.GetAABB=function(){return this.m_aabb},h.prototype.m_massData=null,h.prototype.m_aabb=null,h.prototype.m_density=null,h.prototype.m_next=null,h.prototype.m_body=null,h.prototype.m_shape=null,h.prototype.m_friction=null,h.prototype.m_restitution=null,h.prototype.m_proxy=null,h.prototype.m_filter=new f,h.prototype.m_isSensor=null,h.prototype.m_userData=null,h.prototype.create=h.prototype.Create,h.prototype.destroy=h.prototype.Destroy,h.prototype.createProxy=h.prototype.CreateProxy,h.prototype.destroyProxy=h.prototype.DestroyProxy,h.prototype.synchronize=h.prototype.Synchronize,h.prototype.getType=h.prototype.GetType,h.prototype.getShape=h.prototype.GetShape,h.prototype.setSensor=h.prototype.SetSensor,h.prototype.isSensor=h.prototype.IsSensor,h.prototype.setFilterData=h.prototype.SetFilterData,h.prototype.getFilterData=h.prototype.GetFilterData,h.prototype.getBody=h.prototype.GetBody,h.prototype.getNext=h.prototype.GetNext,h.prototype.getUserData=h.prototype.GetUserData,h.prototype.setUserData=h.prototype.SetUserData,h.prototype.testPoint=h.prototype.TestPoint,h.prototype.rayCast=h.prototype.RayCast,h.prototype.getMassData=h.prototype.GetMassData,h.prototype.setDensity=h.prototype.SetDensity,h.prototype.getDensity=h.prototype.GetDensity,h.prototype.getFriction=h.prototype.GetFriction,h.prototype.setFriction=h.prototype.SetFriction,h.prototype.getRestitution=h.prototype.GetRestitution,h.prototype.setRestitution=h.prototype.SetRestitution,h.prototype.getAABB=h.prototype.GetAABB,b.exports=h},8:function(a,b,c,d){var e=a("1"),f=function(){this.__varz(),this.__constructor.apply(this,arguments)};f.prototype.__constructor=function(){},f.prototype.__varz=function(){this.lowerBound=new e,this.upperBound=new e},f.Combine=function(a,b){var c=new f;return c.Combine(a,b),c},f.prototype.IsValid=function(){var a=this.upperBound.x-this.lowerBound.x,b=this.upperBound.y-this.lowerBound.y,c=a>=0&&b>=0;return c=c&&this.lowerBound.IsValid()&&this.upperBound.IsValid(),c},f.prototype.GetCenter=function(){return new e((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)},f.prototype.GetExtents=function(){return new e((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)},f.prototype.Contains=function(a){var b=this.lowerBound.x<=a.lowerBound.x&&this.lowerBound.y<=a.lowerBound.y&&a.upperBound.x<=this.upperBound.x&&a.upperBound.y<=this.upperBound.y;return b},f.prototype.RayCast=function(a,b){var c=-Number.MAX_VALUE,d=Number.MAX_VALUE,e=b.p1.x,f=b.p1.y,g=b.p2.x-b.p1.x,h=b.p2.y-b.p1.y,i=Math.abs(g),j=Math.abs(h),k=a.normal,l,m,n,o,p;if(i<Number.MIN_VALUE){if(e<this.lowerBound.x||this.upperBound.x<e)return!1}else{l=1/g,m=(this.lowerBound.x-e)*l,n=(this.upperBound.x-e)*l,p=-1,m>n&&(o=m,m=n,n=o,p=1),m>c&&(k.x=p,k.y=0,c=m),d=Math.min(d,n);if(c>d)return!1}if(j<Number.MIN_VALUE){if(f<this.lowerBound.y||this.upperBound.y<f)return!1}else{l=1/h,m=(this.lowerBound.y-f)*l,n=(this.upperBound.y-f)*l,p=-1,m>n&&(o=m,m=n,n=o,p=1),m>c&&(k.y=p,k.x=0,c=m),d=Math.min(d,n);if(c>d)return!1}return a.fraction=c,!0},f.prototype.TestOverlap=function(a){var b=a.lowerBound.x-this.upperBound.x,c=a.lowerBound.y-this.upperBound.y,d=this.lowerBound.x-a.upperBound.x,e=this.lowerBound.y-a.upperBound.y;return b>0||c>0?!1:d>0||e>0?!1:!0},f.prototype.Combine=function(a,b){this.lowerBound.x=Math.min(a.lowerBound.x,b.lowerBound.x),this.lowerBound.y=Math.min(a.lowerBound.y,b.lowerBound.y),this.upperBound.x=Math.max(a.upperBound.x,b.upperBound.x),this.upperBound.y=Math.max(a.upperBound.y,b.upperBound.y)},f.prototype.lowerBound=new e,f.prototype.upperBound=new e,f.prototype.isValid=f.prototype.IsValid,f.prototype.getCenter=f.prototype.GetCenter,f.prototype.getExtents=f.prototype.GetExtents,f.prototype.contains=f.prototype.Contains,f.prototype.rayCast=f.prototype.RayCast,f.prototype.testOverlap=f.prototype.TestOverlap,f.prototype.combine=f.prototype.Combine,b.exports=f},9:function(a,b,c,d){var e=function(){this.__varz(),this.__constructor.apply(this,arguments)};e.prototype.__constructor=function(){},e.prototype.__varz=function(){this.categoryBits=1,this.maskBits=65535},e.prototype.Copy=function(){var a=new e;return a.categoryBits=this.categoryBits,a.maskBits=this.maskBits,a.groupIndex=this.groupIndex,a},e.prototype.categoryBits=1,e.prototype.maskBits=65535,e.prototype.groupIndex=0,e.prototype.copy=e.prototype.Copy,b.exports=e},a:function(a,b,c,d){var e=a("1"),f=function(){this.__varz(),this.__constructor.apply(this,arguments)};f.prototype.__constructor=function(){},f.prototype.__varz=function(){this.center=new e(0,0)},f.prototype.mass=0,f.prototype.center=new e(0,0),f.prototype.I=0,b.exports=f},b:function(a,b,c,d){var e=a("9"),f=function(){this.__varz(),this.__constructor.apply(this,arguments)};f.prototype.__constructor=function(){this.shape=null,this.userData=null,this.friction=.2,this.restitution=0,this.density=0,this.filter.categoryBits=1,this.filter.maskBits=65535,this.filter.groupIndex=0,this.isSensor=!1},f.prototype.__varz=function(){this.filter=new e},f.prototype.shape=null,f.prototype.userData=null,f.prototype.friction=null,f.prototype.restitution=null,f.prototype.density=null,f.prototype.isSensor=null,f.prototype.filter=new e,b.exports=f},c:function(a,b,c,d){var e=a("2"),f=a("d"),g=a("o"),h=a("u"),i=a("p"),j=a("6"),k=a("4"),l=a("w"),m=a("3"),n=a("1"),o=a("8"),p=a("x"),q=a("j"),r=function(){this.__varz(),this.__constructor.apply(this,arguments)};r.prototype.__constructor=function(a,b){this.m_destructionListener=null,this.m_debugDraw=null,this.m_bodyList=null,this.m_contactList=null,this.m_jointList=null,this.m_controllerList=null,this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0,this.m_controllerCount=0,r.m_warmStarting=!0,r.m_continuousPhysics=!0,this.m_allowSleep=b,this.m_gravity=a,this.m_inv_dt0=0,this.m_contactManager.m_world=this;var c=new e;this.m_groundBody=this.CreateBody(c)},r.prototype.__varz=function(){this.s_stack=new Array,this.m_contactManager=new f,this.m_contactSolver=new g,this.m_island=new h},r.s_timestep2=new i,r.s_backupA=new j,r.s_backupB=new j,r.s_timestep=new i,r.s_queue=new Array,r.e_newFixture=1,r.e_locked=2,r.s_xf=new k,r.s_jointColor=new l(.5,.8,.8),r.m_warmStarting=null,r.m_continuousPhysics=null,r.prototype.Solve=function(a){var b;for(var c=this.m_controllerList;c;c=c.m_next)c.Step(a);var d=this.m_island;d.Initialize(this.m_bodyCount,this.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener,this.m_contactSolver);for(b=this.m_bodyList;b;b=b.m_next)b.m_flags&=~m.e_islandFlag;for(var e=this.m_contactList;e;e=e.m_next)e.m_flags&=~b2Contact.e_islandFlag;for(var f=this.m_jointList;f;f=f.m_next)f.m_islandFlag=!1;var g=this.m_bodyCount,h=this.s_stack;for(var i=this.m_bodyList;i;i=i.m_next){if(i.m_flags&m.e_islandFlag)continue;if(i.IsAwake()==0||i.IsActive()==0)continue;if(i.GetType()==m.b2_staticBody)continue;d.Clear();var j=0;h[j++]=i,i.m_flags|=m.e_islandFlag;while(j>0){b=h[--j],d.AddBody(b),b.IsAwake()==0&&b.SetAwake(!0);if(b.GetType()==m.b2_staticBody)continue;var k;for(var l=b.m_contactList;l;l=l.next){if(l.contact.m_flags&b2Contact.e_islandFlag)continue;if(l.contact.IsSensor()==1||l.contact.IsEnabled()==0||l.contact.IsTouching()==0)continue;d.AddContact(l.contact),l.contact.m_flags|=b2Contact.e_islandFlag,k=l.other;if(k.m_flags&m.e_islandFlag)continue;h[j++]=k,k.m_flags|=m.e_islandFlag}for(var n=b.m_jointList;n;n=n.next){if(n.joint.m_islandFlag==1)continue;k=n.other;if(k.IsActive()==0)continue;d.AddJoint(n.joint),n.joint.m_islandFlag=!0;if(k.m_flags&m.e_islandFlag)continue;h[j++]=k,k.m_flags|=m.e_islandFlag}}d.Solve(a,this.m_gravity,this.m_allowSleep);for(var o=0;o<d.m_bodyCount;++o)b=d.m_bodies[o],b.GetType()==m.b2_staticBody&&(b.m_flags&=~m.e_islandFlag)}for(o=0;o<h.length;++o){if(!h[o])break;h[o]=null}for(b=this.m_bodyList;b;b=b.m_next){if(b.IsAwake()==0||b.IsActive()==0)continue;if(b.GetType()==m.b2_staticBody)continue;b.SynchronizeFixtures()}this.m_contactManager.FindNewContacts()},r.prototype.SolveTOI=function(a){var b,c,d,e,f,g,h,i=this.m_island;i.Initialize(this.m_bodyCount,b2Settings.b2_maxTOIContactsPerIsland,b2Settings.b2_maxTOIJointsPerIsland,null,this.m_contactManager.m_contactListener,this.m_contactSolver);var j=r.s_queue;for(b=this.m_bodyList;b;b=b.m_next)b.m_flags&=~m.e_islandFlag,b.m_sweep.t0=0;var k;for(k=this.m_contactList;k;k=k.m_next)k.m_flags&=~(b2Contact.e_toiFlag|b2Contact.e_islandFlag);for(h=this.m_jointList;h;h=h.m_next)h.m_islandFlag=!1;for(;;){var l=null,n=1;for(k=this.m_contactList;k;k=k.m_next){if(k.IsSensor()==1||k.IsEnabled()==0||k.IsContinuous()==0)continue;var o=1;if(k.m_flags&b2Contact.e_toiFlag)o=k.m_toi;else{c=k.m_fixtureA,d=k.m_fixtureB,e=c.m_body,f=d.m_body;if(!(e.GetType()==m.b2_dynamicBody&&e.IsAwake()!=0||f.GetType()==m.b2_dynamicBody&&f.IsAwake()!=0))continue;var p=e.m_sweep.t0;e.m_sweep.t0<f.m_sweep.t0?(p=f.m_sweep.t0,e.m_sweep.Advance(p)):f.m_sweep.t0<e.m_sweep.t0&&(p=e.m_sweep.t0,f.m_sweep.Advance(p)),o=k.ComputeTOI(e.m_sweep,f.m_sweep),b2Settings.b2Assert(0<=o&&o<=1),o>0&&o<1&&(o=(1-o)*p+o,o>1&&(o=1)),k.m_toi=o,k.m_flags|=b2Contact.e_toiFlag}Number.MIN_VALUE<o&&o<n&&(l=k,n=o)}if(l==null||1-100*Number.MIN_VALUE<n)break;c=l.m_fixtureA,d=l.m_fixtureB,e=c.m_body,f=d.m_body,r.s_backupA.Set(e.m_sweep),r.s_backupB.Set(f.m_sweep),e.Advance(n),f.Advance(n),l.Update(this.m_contactManager.m_contactListener),l.m_flags&=~b2Contact.e_toiFlag;if(l.IsSensor()==1||l.IsEnabled()==0){e.m_sweep.Set(r.s_backupA),f.m_sweep.Set(r.s_backupB),e.SynchronizeTransform(),f.SynchronizeTransform();continue}if(l.IsTouching()==0)continue;var q=e;q.GetType()!=m.b2_dynamicBody&&(q=f),i.Clear();var s=0,t=0;j[s+t++]=q,q.m_flags|=m.e_islandFlag;while(t>0){b=j[s++],--t,i.AddBody(b),b.IsAwake()==0&&b.SetAwake(!0);if(b.GetType()!=m.b2_dynamicBody)continue;for(g=b.m_contactList;g;g=g.next){if(i.m_contactCount==i.m_contactCapacity)break;if(g.contact.m_flags&b2Contact.e_islandFlag)continue;if(g.contact.IsSensor()==1||g.contact.IsEnabled()==0||g.contact.IsTouching()==0)continue;i.AddContact(g.contact),g.contact.m_flags|=b2Contact.e_islandFlag;var u=g.other;if(u.m_flags&m.e_islandFlag)continue;u.GetType()!=m.b2_staticBody&&(u.Advance(n),u.SetAwake(!0)),j[s+t]=u,++t,u.m_flags|=m.e_islandFlag}for(var v=b.m_jointList;v;v=v.next){if(i.m_jointCount==i.m_jointCapacity)continue;if(v.joint.m_islandFlag==1)continue;u=v.other;if(u.IsActive()==0)continue;i.AddJoint(v.joint),v.joint.m_islandFlag=!0;if(u.m_flags&m.e_islandFlag)continue;u.GetType()!=m.b2_staticBody&&(u.Advance(n),u.SetAwake(!0)),j[s+t]=u,++t,u.m_flags|=m.e_islandFlag}}var w=r.s_timestep;w.warmStarting=!1,w.dt=(1-n)*a.dt,w.inv_dt=1/w.dt,w.dtRatio=0,w.velocityIterations=a.velocityIterations,w.positionIterations=a.positionIterations,i.SolveTOI(w);var x=0;for(x=0;x<i.m_bodyCount;++x){b=i.m_bodies[x],b.m_flags&=~m.e_islandFlag;if(b.IsAwake()==0)continue;if(b.GetType()!=m.b2_dynamicBody)continue;b.SynchronizeFixtures();for(g=b.m_contactList;g;g=g.next)g.contact.m_flags&=~b2Contact.e_toiFlag}for(x=0;x<i.m_contactCount;++x)k=i.m_contacts[x],k.m_flags&=~(b2Contact.e_toiFlag|b2Contact.e_islandFlag);for(x=0;x<i.m_jointCount;++x)h=i.m_joints[x],h.m_islandFlag=!1;this.m_contactManager.FindNewContacts()}},r.prototype.DrawJoint=function(a){var b=a.GetBodyA(),c=a.GetBodyB(),d=b.m_xf,e=c.m_xf,f=d.position,g=e.position,h=a.GetAnchorA(),i=a.GetAnchorB(),j=r.s_jointColor;switch(a.m_type){case b2Joint.e_distanceJoint:this.m_debugDraw.DrawSegment(h,i,j);break;case b2Joint.e_pulleyJoint:var k=a,l=k.GetGroundAnchorA(),m=k.GetGroundAnchorB();this.m_debugDraw.DrawSegment(l,h,j),this.m_debugDraw.DrawSegment(m,i,j),this.m_debugDraw.DrawSegment(l,m,j);break;case b2Joint.e_mouseJoint:this.m_debugDraw.DrawSegment(h,i,j);break;default:b!=this.m_groundBody&&this.m_debugDraw.DrawSegment(f,h,j),this.m_debugDraw.DrawSegment(h,i,j),c!=this.m_groundBody&&this.m_debugDraw.DrawSegment(g,i,j)}},r.prototype.DrawShape=function(a,b,c){switch(a.m_type){case b2Shape.e_circleShape:var d=a,e=b2Math.MulX(b,d.m_p),f=d.m_radius,g=b.R.col1;this.m_debugDraw.DrawSolidCircle(e,f,g,c);break;case b2Shape.e_polygonShape:var h=0,i=a,j=i.GetVertexCount(),k=i.GetVertices(),l=new Array(j);for(h=0;h<j;++h)l[h]=b2Math.MulX(b,k[h]);this.m_debugDraw.DrawSolidPolygon(l,j,c);break;case b2Shape.e_edgeShape:var m=a;this.m_debugDraw.DrawSegment(b2Math.MulX(b,m.GetVertex1()),b2Math.MulX(b,m.GetVertex2()),c)}},r.prototype.SetDestructionListener=function(a){this.m_destructionListener=a},r.prototype.SetContactFilter=function(a){this.m_contactManager.m_contactFilter=a},r.prototype.SetContactListener=function(a){this.m_contactManager.m_contactListener=a},r.prototype.SetDebugDraw=function(a){this.m_debugDraw=a},r.prototype.SetBroadPhase=function(a){var b=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=a;for(var c=this.m_bodyList;c;c=c.m_next)for(var d=c.m_fixtureList;d;d=d.m_next)d.m_proxy=a.CreateProxy(b.GetFatAABB(d.m_proxy),d)},r.prototype.Validate=function(){this.m_contactManager.m_broadPhase.Validate()},r.prototype.GetProxyCount=function(){return this.m_contactManager.m_broadPhase.GetProxyCount()},r.prototype.CreateBody=function(a){if(this.IsLocked()==1)return null;var b=new m(a,this);return b.m_prev=null,b.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=b),this.m_bodyList=b,++this.m_bodyCount,b},r.prototype.DestroyBody=function(a){if(this.IsLocked()==1)return;var b=a.m_jointList;while(b){var c=b;b=b.next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(c.joint),this.DestroyJoint(c.joint)}var d=a.m_controllerList;while(d){var e=d;d=d.nextController,e.controller.RemoveBody(a)}var f=a.m_contactList;while(f){var g=f;f=f.next,this.m_contactManager.Destroy(g.contact)}a.m_contactList=null;var h=a.m_fixtureList;while(h){var i=h;h=h.m_next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(i),i.DestroyProxy(this.m_contactManager.m_broadPhase),i.Destroy()}a.m_fixtureList=null,a.m_fixtureCount=0,a.m_prev&&(a.m_prev.m_next=a.m_next),a.m_next&&(a.m_next.m_prev=a.m_prev),a==this.m_bodyList&&(this.m_bodyList=a.m_next),--this.m_bodyCount},r.prototype.CreateJoint=function(a){var b=b2Joint.Create(a,null);b.m_prev=null,b.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=b),this.m_jointList=b,++this.m_jointCount,b.m_edgeA.joint=b,b.m_edgeA.other=b.m_bodyB,b.m_edgeA.prev=null,b.m_edgeA.next=b.m_bodyA.m_jointList,b.m_bodyA.m_jointList&&(b.m_bodyA.m_jointList.prev=b.m_edgeA),b.m_bodyA.m_jointList=b.m_edgeA,b.m_edgeB.joint=b,b.m_edgeB.other=b.m_bodyA,b.m_edgeB.prev=null,b.m_edgeB.next=b.m_bodyB.m_jointList,b.m_bodyB.m_jointList&&(b.m_bodyB.m_jointList.prev=b.m_edgeB),b.m_bodyB.m_jointList=b.m_edgeB;var c=a.bodyA,d=a.bodyB;if(a.collideConnected==0){var e=d.GetContactList();while(e)e.other==c&&e.contact.FlagForFiltering(),e=e.next}return b},r.prototype.DestroyJoint=function(a){var b=a.m_collideConnected;a.m_prev&&(a.m_prev.m_next=a.m_next),a.m_next&&(a.m_next.m_prev=a.m_prev),a==this.m_jointList&&(this.m_jointList=a.m_next);var c=a.m_bodyA,d=a.m_bodyB;c.SetAwake(!0),d.SetAwake(!0),a.m_edgeA.prev&&(a.m_edgeA.prev.next=a.m_edgeA.next),a.m_edgeA.next&&(a.m_edgeA.next.prev=a.m_edgeA.prev),a.m_edgeA==c.m_jointList&&(c.m_jointList=a.m_edgeA.next),a.m_edgeA.prev=null,a.m_edgeA.next=null,a.m_edgeB.prev&&(a.m_edgeB.prev.next=a.m_edgeB.next),a.m_edgeB.next&&(a.m_edgeB.next.prev=a.m_edgeB.prev),a.m_edgeB==d.m_jointList&&(d.m_jointList=a.m_edgeB.next),a.m_edgeB.prev=null,a.m_edgeB.next=null,b2Joint.Destroy(a,null),--this.m_jointCount;if(b==0){var e=d.GetContactList();while(e)e.other==c&&e.contact.FlagForFiltering(),e=e.next}},r.prototype.AddController=function(a){return a.m_next=this.m_controllerList,a.m_prev=null,this.m_controllerList=a,a.m_world=this,this.m_controllerCount++,a},r.prototype.RemoveController=function(a){a.m_prev&&(a.m_prev.m_next=a.m_next),a.m_next&&(a.m_next.m_prev=a.m_prev),this.m_controllerList==a&&(this.m_controllerList=a.m_next),this.m_controllerCount--},r.prototype.CreateController=function(a){if(a.m_world!=this)throw new Error("Controller can only be a member of one world");return a.m_next=this.m_controllerList,a.m_prev=null,this.m_controllerList&&(this.m_controllerList.m_prev=a),this.m_controllerList=a,++this.m_controllerCount,a.m_world=this,a},r.prototype.DestroyController=function(a){a.Clear(),a.m_next&&(a.m_next.m_prev=a.m_prev),a.m_prev&&(a.m_prev.m_next=a.m_next),a==this.m_controllerList&&(this.m_controllerList=a.m_next),--this.m_controllerCount},r.prototype.SetWarmStarting=function(a){r.m_warmStarting=a},r.prototype.SetContinuousPhysics=function(a){r.m_continuousPhysics=a},r.prototype.GetBodyCount=function(){return this.m_bodyCount},r.prototype.GetJointCount=function(){return this.m_jointCount},r.prototype.GetContactCount=function(){return this.m_contactCount},r.prototype.SetGravity=function(a){this.m_gravity=a},r.prototype.GetGravity=function(){return this.m_gravity},r.prototype.GetGroundBody=function(){return this.m_groundBody},r.prototype.Step=function(a,b,c){this.m_flags&r.e_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_flags&=~r.e_newFixture),this.m_flags|=r.e_locked;var d=r.s_timestep2;d.dt=a,d.velocityIterations=b,d.positionIterations=c,a>0?d.inv_dt=1/a:d.inv_dt=0,d.dtRatio=this.m_inv_dt0*a,d.warmStarting=r.m_warmStarting,this.m_contactManager.Collide(),d.dt>0&&this.Solve(d),r.m_continuousPhysics&&d.dt>0&&this.SolveTOI(d),d.dt>0&&(this.m_inv_dt0=d.inv_dt),this.m_flags&=~r.e_locked},r.prototype.ClearForces=function(){for(var a=this.m_bodyList;a;a=a.m_next)a.m_force.SetZero(),a.m_torque=0},r.prototype.DrawDebugData=function(){if(this.m_debugDraw==null)return;this.m_debugDraw.Clear();var a=this.m_debugDraw.GetFlags(),b=0,c,d,e,f,g,h=new n,i=new n,j=new n,k,p=new o,q=new o,s=[new n,new n,new n,new n],t=new l(0,0,0);if(a&b2DebugDraw.e_shapeBit)for(c=this.m_bodyList;c;c=c.m_next){k=c.m_xf;for(d=c.GetFixtureList();d;d=d.m_next)e=d.GetShape(),c.IsActive()==0?(t.Set(.5,.5,.3),this.DrawShape(e,k,t)):c.GetType()==m.b2_staticBody?(t.Set(.5,.9,.5),this.DrawShape(e,k,t)):c.GetType()==m.b2_kinematicBody?(t.Set(.5,.5,.9),this.DrawShape(e,k,t)):c.IsAwake()==0?(t.Set(.6,.6,.6),this.DrawShape(e,k,t)):(t.Set(.9,.7,.7),this.DrawShape(e,k,t))}if(a&b2DebugDraw.e_jointBit)for(f=this.m_jointList;f;f=f.m_next)this.DrawJoint(f);if(a&b2DebugDraw.e_controllerBit)for(var u=this.m_controllerList;u;u=u.m_next)u.Draw(this.m_debugDraw);if(a&b2DebugDraw.e_pairBit){t.Set(.3,.9,.9);for(var v=this.m_contactManager.m_contactList;v;v=v.GetNext()){var w=v.GetFixtureA(),x=v.GetFixtureB(),y=w.GetAABB().GetCenter(),z=x.GetAABB().GetCenter();this.m_debugDraw.DrawSegment(y,z,t)}}if(a&b2DebugDraw.e_aabbBit){g=this.m_contactManager.m_broadPhase,s=[new n,new n,new n,new n];for(c=this.m_bodyList;c;c=c.GetNext()){if(c.IsActive()==0)continue;for(d=c.GetFixtureList();d;d=d.GetNext()){var A=g.GetFatAABB(d.m_proxy);s[0].Set(A.lowerBound.x,A.lowerBound.y),s[1].Set(A.upperBound.x,A.lowerBound.y),s[2].Set(A.upperBound.x,A.upperBound.y),s[3].Set(A.lowerBound.x,A.upperBound.y),this.m_debugDraw.DrawPolygon(s,4,t)}}}if(a&b2DebugDraw.e_centerOfMassBit)for(c=this.m_bodyList;c;c=c.m_next)k=r.s_xf,k.R=c.m_xf.R,k.position=c.GetWorldCenter(),this.m_debugDraw.DrawTransform(k)},r.prototype.QueryAABB=function(a,b){function d(b){return a(c.GetUserData(b))}var c=this.m_contactManager.m_broadPhase;c.Query(d,b)},r.prototype.QueryShape=function(a,b,c){function e(e){var f=d.GetUserData(e);return b2Shape.TestOverlap(b,c,f.GetShape(),f.GetBody().GetTransform())?a(f):!0}c==null&&(c=new k,c.SetIdentity());var d=this.m_contactManager.m_broadPhase,f=new o;b.ComputeAABB(f,c),d.Query(e,f)},r.prototype.QueryPoint=function(a,b){function d(d){var e=c.GetUserData(d);return e.TestPoint(b)?a(e):!0}var c=this.m_contactManager.m_broadPhase,e=new o;e.lowerBound.Set(b.x-b2Settings.b2_linearSlop,b.y-b2Settings.b2_linearSlop),e.upperBound.Set(b.x+b2Settings.b2_linearSlop,b.y+b2Settings.b2_linearSlop),c.Query(d,e)},r.prototype.RayCast=function(a,b,c){function f(f,g){var h=d.GetUserData(g),i=h,j=i.RayCast(e,f);if(j){var k=e.fraction,l=new n((1-k)*b.x+k*c.x,(1-k)*b.y+k*c.y);return a(i,l,e.normal,k)}return f.maxFraction}var d=this.m_contactManager.m_broadPhase,e=new p,g=new q(b,c);d.RayCast(f,g)},r.prototype.RayCastOne=function(a,b){function d(a,b,d,e){return c=a,e}var c;return this.RayCast(d,a,b),c},r.prototype.RayCastAll=function(a,b){function d(a,b,d,e){return c[c.length]=a,1}var c=new Array;return this.RayCast(d,a,b),c},r.prototype.GetBodyList=function(){return this.m_bodyList},r.prototype.GetJointList=function(){return this.m_jointList},r.prototype.GetContactList=function(){return this.m_contactList},r.prototype.IsLocked=function(){return(this.m_flags&r.e_locked)>0},r.prototype.s_stack=new Array,r.prototype.m_flags=0,r.prototype.m_contactManager=new f,r.prototype.m_contactSolver=new g,r.prototype.m_island=new h,r.prototype.m_bodyList=null,r.prototype.m_jointList=null,r.prototype.m_contactList=null,r.prototype.m_bodyCount=0,r.prototype.m_contactCount=0,r.prototype.m_jointCount=0,r.prototype.m_controllerList=null,r.prototype.m_controllerCount=0,r.prototype.m_gravity=null,r.prototype.m_allowSleep=null,r.prototype.m_groundBody=null,r.prototype.m_destructionListener=null,r.prototype.m_debugDraw=null,r.prototype.m_inv_dt0=null,r.prototype.solve=r.prototype.Solve,r.prototype.solveTOI=r.prototype.SolveTOI,r.prototype.drawJoint=r.prototype.DrawJoint,r.prototype.drawShape=r.prototype.DrawShape,r.prototype.setDestructionListener=r.prototype.SetDestructionListener,r.prototype.setContactFilter=r.prototype.SetContactFilter,r.prototype.setContactListener=r.prototype.SetContactListener,r.prototype.setDebugDraw=r.prototype.SetDebugDraw,r.prototype.setBroadPhase=r.prototype.SetBroadPhase,r.prototype.validate=r.prototype.Validate,r.prototype.getProxyCount=r.prototype.GetProxyCount,r.prototype.createBody=r.prototype.CreateBody,r.prototype.destroyBody=r.prototype.DestroyBody,r.prototype.createJoint=r.prototype.CreateJoint,r.prototype.destroyJoint=r.prototype.DestroyJoint,r.prototype.addController=r.prototype.AddController,r.prototype.removeController=r.prototype.RemoveController,r.prototype.createController=r.prototype.CreateController,r.prototype.destroyController=r.prototype.DestroyController,r.prototype.setWarmStarting=r.prototype.SetWarmStarting,r.prototype.setContinuousPhysics=r.prototype.SetContinuousPhysics,r.prototype.getBodyCount=r.prototype.GetBodyCount,r.prototype.getJointCount=r.prototype.GetJointCount,r.prototype.getContactCount=r.prototype.GetContactCount,r.prototype.setGravity=r.prototype.SetGravity,r.prototype.getGravity=r.prototype.GetGravity,r.prototype.getGroundBody=r.prototype.GetGroundBody,r.prototype.step=r.prototype.Step,r.prototype.clearForces=r.prototype.ClearForces,r.prototype.drawDebugData=r.prototype.DrawDebugData,r.prototype.queryAABB=r.prototype.QueryAABB,r.prototype.queryShape=r.prototype.QueryShape,r.prototype.queryPoint=r.prototype.QueryPoint,r.prototype.rayCast=r.prototype.RayCast,r.prototype.rayCastOne=r.prototype.RayCastOne,r.prototype.rayCastAll=r.prototype.RayCastAll,r.prototype.getBodyList=r.prototype.GetBodyList,r.prototype.getJointList=r.prototype.GetJointList,r.prototype.getContactList=r.prototype.GetContactList,r.prototype.isLocked=r.prototype.IsLocked,b.exports=r},d:function(a,b,c,d){var e=a("e"),f=a("g"),g=a("l"),h=function(){this.__varz(),this.__constructor.apply(this,arguments)};h.prototype.__constructor=function(){this.m_world=null,this.m_contactCount=0,this.m_contactFilter=b2ContactFilter.b2_defaultFilter,this.m_contactListener=b2ContactListener.b2_defaultListener,this.m_contactFactory=new e(this.m_allocator),this.m_broadPhase=new f},h.prototype.__varz=function(){},h.s_evalCP=new g,h.prototype.AddPair=function(a,b){var c=a,d=b,e=c.GetBody(),f=d.GetBody();if(e==f)return;var g=f.GetContactList();while(g){if(g.other==e){var h=g.contact.GetFixtureA(),i=g.contact.GetFixtureB();if(h==c&&i==d)return;if(h==d&&i==c)return}g=g.next}if(f.ShouldCollide(e)==0)return;if(this.m_contactFilter.ShouldCollide(c,d)==0)return;var j=this.m_contactFactory.Create(c,d);c=j.GetFixtureA(),d=j.GetFixtureB(),e=c.m_body,f=d.m_body,j.m_prev=null,j.m_next=this.m_world.m_contactList,this.m_world.m_contactList!=null&&(this.m_world.m_contactList.m_prev=j),this.m_world.m_contactList=j,j.m_nodeA.contact=j,j.m_nodeA.other=f,j.m_nodeA.prev=null,j.m_nodeA.next=e.m_contactList,e.m_contactList!=null&&(e.m_contactList.prev=j.m_nodeA),e.m_contactList=j.m_nodeA,j.m_nodeB.contact=j,j.m_nodeB.other=e,j.m_nodeB.prev=null,j.m_nodeB.next=f.m_contactList,f.m_contactList!=null&&(f.m_contactList.prev=j.m_nodeB),f.m_contactList=j.m_nodeB,++this.m_world.m_contactCount;return},h.prototype.FindNewContacts=function(){var a=this;this.m_broadPhase.UpdatePairs(function(b,c){return a.AddPair(b,c)})},h.prototype.Destroy=function(a){var b=a.GetFixtureA(),c=a.GetFixtureB(),d=b.GetBody(),e=c.GetBody();a.IsTouching()&&this.m_contactListener.EndContact(a),a.m_prev&&(a.m_prev.m_next=a.m_next),a.m_next&&(a.m_next.m_prev=a.m_prev),a==this.m_world.m_contactList&&(this.m_world.m_contactList=a.m_next),a.m_nodeA.prev&&(a.m_nodeA.prev.next=a.m_nodeA.next),a.m_nodeA.next&&(a.m_nodeA.next.prev=a.m_nodeA.prev),a.m_nodeA==d.m_contactList&&(d.m_contactList=a.m_nodeA.next),a.m_nodeB.prev&&(a.m_nodeB.prev.next=a.m_nodeB.next),a.m_nodeB.next&&(a.m_nodeB.next.prev=a.m_nodeB.prev),a.m_nodeB==e.m_contactList&&(e.m_contactList=a.m_nodeB.next),this.m_contactFactory.Destroy(a),--this.m_contactCount},h.prototype.Collide=function(){var a=this.m_world.m_contactList;while(a){var b=a.GetFixtureA(),c=a.GetFixtureB(),d=b.GetBody(),e=c.GetBody();if(d.IsAwake()==0&&e.IsAwake()==0){a=a.GetNext();continue}if(a.m_flags&b2Contact.e_filterFlag){if(e.ShouldCollide(d)==0){var f=a;a=f.GetNext(),this.Destroy(f);continue}if(this.m_contactFilter.ShouldCollide(b,c)==0){f=a,a=f.GetNext(),this.Destroy(f);continue}a.m_flags&=~b2Contact.e_filterFlag}var g=b.m_proxy,h=c.m_proxy,i=this.m_broadPhase.TestOverlap(g,h);if(i==0){f=a,a=f.GetNext(),this.Destroy(f);continue}a.Update(this.m_contactListener),a=a.GetNext()}},h.prototype.m_world=null,h.prototype.m_broadPhase=null,h.prototype.m_contactList=null,h.prototype.m_contactCount=0,h.prototype.m_contactFilter=null,h.prototype.m_contactListener=null,h.prototype.m_contactFactory=null,h.prototype.m_allocator=null,h.prototype.addPair=h.prototype.AddPair,h.prototype.findNewContacts=h.prototype.FindNewContacts,h.prototype.destroy=h.prototype.Destroy,h.prototype.collide=h.prototype.Collide,b.exports=h},e:function(a,b,c,d){var e=a("f"),f=function(){this.__varz(),this.__constructor.apply(this,arguments)};f.prototype.__constructor=function(a){this.m_allocator=a,this.InitializeRegisters()},f.prototype.__varz=function(){},f.prototype.AddType=function(a,b,c,d){this.m_registers[c][d].createFcn=a,this.m_registers[c][d].destroyFcn=b,this.m_registers[c][d].primary=!0,c!=d&&(this.m_registers[d][c].createFcn=a,this.m_registers[d][c].destroyFcn=b,this.m_registers[d][c].primary=!1)},f.prototype.InitializeRegisters=function(){this.m_registers=new Array(b2Shape.e_shapeTypeCount);for(var a=0;a<b2Shape.e_shapeTypeCount;a++){this.m_registers[a]=new Array(b2Shape.e_shapeTypeCount);for(var b=0;b<b2Shape.e_shapeTypeCount;b++)this.m_registers[a][b]=new e}this.AddType(b2CircleContact.Create,b2CircleContact.Destroy,b2Shape.e_circleShape,b2Shape.e_circleShape),this.AddType(b2PolyAndCircleContact.Create,b2PolyAndCircleContact.Destroy,b2Shape.e_polygonShape,b2Shape.e_circleShape),this.AddType(b2PolygonContact.Create,b2PolygonContact.Destroy,b2Shape.e_polygonShape,b2Shape.e_polygonShape),this.AddType(b2EdgeAndCircleContact.Create,b2EdgeAndCircleContact.Destroy,b2Shape.e_edgeShape,b2Shape.e_circleShape),this.AddType(b2PolyAndEdgeContact.Create,b2PolyAndEdgeContact.Destroy,b2Shape.e_polygonShape,b2Shape.e_edgeShape)},f.prototype.Create=function(a,b){var c=a.GetType(),d=b.GetType(),e=this.m_registers[c][d],f;if(e.pool)return f=e.pool,e.pool=f.m_next,e.poolCount--,f.Reset(a,b),f;var g=e.createFcn;return g!=null?e.primary?(f=g(this.m_allocator),f.Reset(a,b),f):(f=g(this.m_allocator),f.Reset(b,a),f):null},f.prototype.Destroy=function(a){a.m_manifold.m_pointCount>0&&(a.m_fixtureA.m_body.SetAwake(!0),a.m_fixtureB.m_body.SetAwake(!0));var b=a.m_fixtureA.GetType(),c=a.m_fixtureB.GetType(),d=this.m_registers[b][c];d.poolCount++,a.m_next=d.pool,d.pool=a;var e=d.destroyFcn;e(a,this.m_allocator)},f.prototype.m_registers=null,f.prototype.m_allocator=null,f.prototype.addType=f.prototype.AddType,f.prototype.initializeRegisters=f.prototype.InitializeRegisters,f.prototype.create=f.prototype.Create,f.prototype.destroy=f.prototype.Destroy,b.exports=f},f:function(a,b,c,d){var e=function(){this.__varz(),this.__constructor.apply(this,arguments)};e.prototype.__constructor=function(){},e.prototype.__varz=function(){},e.prototype.createFcn=null,e.prototype.destroyFcn=null,e.prototype.primary=null,e.prototype.pool=null,e.prototype.poolCount=0,b.exports=e},g:function(a,b,c,d){var e=a("h"),f=a("k"),g=function(){this.__varz(),this.__constructor.apply(this,arguments)};g.prototype.__constructor=function(){},g.prototype.__varz=function(){this.m_tree=new e,this.m_moveBuffer=new Array,this.m_pairBuffer=new Array},g.prototype.BufferMove=function(a){this.m_moveBuffer[this.m_moveBuffer.length]=a},g.prototype.UnBufferMove=function(a){var b=this.m_moveBuffer.indexOf(a);this.m_moveBuffer.splice(b,1)},g.prototype.ComparePairs=function(a,b){return 0},g.prototype.CreateProxy=function(a,b){var c=this.m_tree.CreateProxy(a,b);return++this.m_proxyCount,this.BufferMove(c),c},g.prototype.DestroyProxy=function(a){this.UnBufferMove(a),--this.m_proxyCount,this.m_tree.DestroyProxy(a)},g.prototype.MoveProxy=function(a,b,c){var d=this.m_tree.MoveProxy(a,b,c);d&&this.BufferMove(a)},g.prototype.TestOverlap=function(a,b){var c=this.m_tree.GetFatAABB(a),d=this.m_tree.GetFatAABB(b);return c.TestOverlap(d)},g.prototype.GetUserData=function(a){return this.m_tree.GetUserData(a)},g.prototype.GetFatAABB=function(a){return this.m_tree.GetFatAABB(a)},g.prototype.GetProxyCount=function(){return this.m_proxyCount},g.prototype.UpdatePairs=function(a){this.m_pairCount=0;for(var b=0,c=null;b<this.m_moveBuffer.length,c=this.m_moveBuffer[b];b++){var d=this;function e(a){if(a==c)return!0;d.m_pairCount==d.m_pairBuffer.length&&(d.m_pairBuffer[d.m_pairCount]=new f);var b=d.m_pairBuffer[d.m_pairCount];return b.proxyA=a<c?a:c,b.proxyB=a>=c?a:c,++d.m_pairCount,!0}var g=this.m_tree.GetFatAABB(c);this.m_tree.Query(e,g)}this.m_moveBuffer.length=0;for(var b=0;b<this.m_pairCount;){var h=this.m_pairBuffer[b],i=this.m_tree.GetUserData(h.proxyA),j=this.m_tree.GetUserData(h.proxyB);a(i,j),++b;while(b<this.m_pairCount){var k=this.m_pairBuffer[b];if(k.proxyA!=h.proxyA||k.proxyB!=h.proxyB)break;++b}}},g.prototype.Query=function(a,b){this.m_tree.Query(a,b)},g.prototype.RayCast=function(a,b){this.m_tree.RayCast(a,b)},g.prototype.Validate=function(){},g.prototype.Rebalance=function(a){this.m_tree.Rebalance(a)},g.prototype.m_tree=new e,g.prototype.m_proxyCount=0,g.prototype.m_moveBuffer=new Array,g.prototype.m_pairBuffer=new Array,g.prototype.m_pairCount=0,g.prototype.bufferMove=g.prototype.BufferMove,g.prototype.unBufferMove=g.prototype.UnBufferMove,g.prototype.comparePairs=g.prototype.ComparePairs,g.prototype.createProxy=g.prototype.CreateProxy,g.prototype.destroyProxy=g.prototype.DestroyProxy,g.prototype.moveProxy=g.prototype.MoveProxy,g.prototype.testOverlap=g.prototype.TestOverlap,g.prototype.getUserData=g.prototype.GetUserData,g.prototype.getFatAABB=g.prototype.GetFatAABB,g.prototype.getProxyCount=g.prototype.GetProxyCount,g.prototype.updatePairs=g.prototype.UpdatePairs,g.prototype.query=g.prototype.Query,g.prototype.rayCast=g.prototype.RayCast,g.prototype.validate=g.prototype.Validate,g.prototype.rebalance=g.prototype.Rebalance,b.exports=g},h:function(a,b,c,d){var e=a("i"),f=a("8"),g=a("j"),h=function(){this.__varz(),this.__constructor.apply(this,arguments)};h.prototype.__constructor=function(){this.m_root=null,this.m_freeList=null,this.m_path=0,this.m_insertionCount=0},h.prototype.__varz=function(){},h.prototype.AllocateNode=function(){if(this.m_freeList){var a=this.m_freeList;return this.m_freeList=a.parent,a.parent=null,a.child1=null,a.child2=null,a}return new e},h.prototype.FreeNode=function(a){a.parent=this.m_freeList,this.m_freeList=a},h.prototype.InsertLeaf=function(a){++this.m_insertionCount;if(this.m_root==null){this.m_root=a,this.m_root.parent=null;return}var b=a.aabb.GetCenter(),c=this.m_root;if(c.IsLeaf()==0)do{var d=c.child1,e=c.child2,f=Math.abs((d.aabb.lowerBound.x+d.aabb.upperBound.x)/2-b.x)+Math.abs((d.aabb.lowerBound.y+d.aabb.upperBound.y)/2-b.y),g=Math.abs((e.aabb.lowerBound.x+e.aabb.upperBound.x)/2-b.x)+Math.abs((e.aabb.lowerBound.y+e.aabb.upperBound.y)/2-b.y);f<g?c=d:c=e}while(c.IsLeaf()==0);var h=c.parent,i=this.AllocateNode();i.parent=h,i.userData=null,i.aabb.Combine(a.aabb,c.aabb);if(h){c.parent.child1==c?h.child1=i:h.child2=i,i.child1=c,i.child2=a,c.parent=i,a.parent=i;do{if(h.aabb.Contains(i.aabb))break;h.aabb.Combine(h.child1.aabb,h.child2.aabb),i=h,h=h.parent}while(h)}else i.child1=c,i.child2=a,c.parent=i,a.parent=i,this.m_root=i},h.prototype.RemoveLeaf=function(a){if(a==this.m_root){this.m_root=null;return}var b=a.parent,c=b.parent,d;b.child1==a?d=b.child2:d=b.child1;if(c){c.child1==b?c.child1=d:c.child2=d,d.parent=c,this.FreeNode(b);while(c){var e=c.aabb;c.aabb=f.Combine(c.child1.aabb,c.child2.aabb);if(e.Contains(c.aabb))break;c=c.parent}}else this.m_root=d,d.parent=null,this.FreeNode(b)},h.prototype.CreateProxy=function(a,b){var c=this.AllocateNode(),d=b2Settings.b2_aabbExtension,e=b2Settings.b2_aabbExtension;return c.aabb.lowerBound.x=a.lowerBound.x-d,c.aabb.lowerBound.y=a.lowerBound.y-e,c.aabb.upperBound.x=a.upperBound.x+d,c.aabb.upperBound.y=a.upperBound.y+e,c.userData=b,this.InsertLeaf(c),c},h.prototype.DestroyProxy=function(a){this.RemoveLeaf(a),this.FreeNode(a)},h.prototype.MoveProxy=function(a,b,c){b2Settings.b2Assert(a.IsLeaf());if(a.aabb.Contains(b))return!1;this.RemoveLeaf(a);var d=b2Settings.b2_aabbExtension+b2Settings.b2_aabbMultiplier*(c.x>0?c.x:-c.x),e=b2Settings.b2_aabbExtension+b2Settings.b2_aabbMultiplier*(c.y>0?c.y:-c.y);return a.aabb.lowerBound.x=b.lowerBound.x-d,a.aabb.lowerBound.y=b.lowerBound.y-e,a.aabb.upperBound.x=b.upperBound.x+d,a.aabb.upperBound.y=b.upperBound.y+e,this.InsertLeaf(a),!0},h.prototype.Rebalance=function(a){if(this.m_root==null)return;for(var b=0;b<a;b++){var c=this.m_root,d=0;while(c.IsLeaf()==0)c=this.m_path>>d&1?c.child2:c.child1,d=d+1&31;++this.m_path,this.RemoveLeaf(c),this.InsertLeaf(c)}},h.prototype.GetFatAABB=function(a){return a.aabb},h.prototype.GetUserData=function(a){return a.userData},h.prototype.Query=function(a,b){if(this.m_root==null)return;var c=new Array,d=0;c[d++]=this.m_root;while(d>0){var e=c[--d];if(e.aabb.TestOverlap(b))if(e.IsLeaf()){var f=a(e);if(!f)return}else c[d++]=e.child1,c[d++]=e.child2}},h.prototype.RayCast=function(a,b){if(this.m_root==null)return;var c=b.p1,d=b.p2,e=b2Math.SubtractVV(c,d);e.Normalize();var h=b2Math.CrossFV(1,e),i=b2Math.AbsV(h),j=b.maxFraction,k=new f,l,m;l=c.x+j*(d.x-c.x),m=c.y+j*(d.y-c.y),k.lowerBound.x=Math.min(c.x,l),k.lowerBound.y=Math.min(c.y,m),k.upperBound.x=Math.max(c.x,l),k.upperBound.y=Math.max(c.y,m);var n=new Array,o=0;n[o++]=this.m_root;while(o>0){var p=n[--o];if(p.aabb.TestOverlap(k)==0)continue;var q=p.aabb.GetCenter(),r=p.aabb.GetExtents(),s=Math.abs(h.x*(c.x-q.x)+h.y*(c.y-q.y))-i.x*r.x-i.y*r.y;if(s>0)continue;if(p.IsLeaf()){var t=new g;t.p1=b.p1,t.p2=b.p2,t.maxFraction=b.maxFraction,j=a(t,p);if(j==0)return;l=c.x+j*(d.x-c.x),m=c.y+j*(d.y-c.y),k.lowerBound.x=Math.min(c.x,l),k.lowerBound.y=Math.min(c.y,m),k.upperBound.x=Math.max(c.x,l),k.upperBound.y=Math.max(c.y,m)}else n[o++]=p.child1,n[o++]=p.child2}},h.prototype.m_root=null,h.prototype.m_freeList=null,h.prototype.m_path=0,h.prototype.m_insertionCount=0,h.prototype.allocateNode=h.prototype.AllocateNode,h.prototype.freeNode=h.prototype.FreeNode,h.prototype.insertLeaf=h.prototype.InsertLeaf,h.prototype.removeLeaf=h.prototype.RemoveLeaf,h.prototype.createProxy=h.prototype.CreateProxy,h.prototype.destroyProxy=h.prototype.DestroyProxy,h.prototype.moveProxy=h.prototype.MoveProxy,h.prototype.rebalance=h.prototype.Rebalance,h.prototype.getFatAABB=h.prototype.GetFatAABB,h.prototype.getUserData=h.prototype.GetUserData,h.prototype.query=h.prototype.Query,h.prototype.rayCast=h.prototype.RayCast,b.exports=h},i:function(a,b,c,d){var e=a("8"),f=function(){this.__varz(),this.__constructor.apply(this,arguments)};f.prototype.__constructor=function(){},f.prototype.__varz=function(){this.aabb=new e},f.prototype.IsLeaf=function(){return this.child1==null},f.prototype.userData=null,f.prototype.aabb=new e,f.prototype.parent=null,f.prototype.child1=null,f.prototype.child2=null,f.prototype.isLeaf=f.prototype.IsLeaf,b.exports=f},j:function(a,b,c,d){var e=a("1"),f=function(){this.__varz(),this.__constructor.apply(this,arguments)};f.prototype.__constructor=function(a,b,c){a&&this.p1.SetV(a),b&&this.p2.SetV(b),c&&(this.maxFraction=c)},f.prototype.__varz=function(){this.p1=new e,this.p2=new e},f.prototype.p1=new e,f.prototype.p2=new e,f.prototype.maxFraction=null,b.exports=f},k:function(a,b,c,d){var e=function(){this.__varz(),this.__constructor.apply(this,arguments)};e.prototype.__constructor=function(){},e.prototype.__varz=function(){},e.prototype.proxyA=null,e.prototype.proxyB=null,b.exports=e},l:function(a,b,c,d){var e=a("1"),f=a("m"),g=function(){this.__varz(),this.__constructor.apply(this,arguments)};g.prototype.__constructor=function(){},g.prototype.__varz=function(){this.position=new e,this.velocity=new e,this.normal=new e,this.id=new f},g.prototype.shape1=null,g.prototype.shape2=null,g.prototype.position=new e,g.prototype.velocity=new e,g.prototype.normal=new e,g.prototype.separation=null,g.prototype.friction=null,g.prototype.restitution=null,g.prototype.id=new f,b.exports=g},m:function(a,b,c,d){var e=a("n"),f=function(){this.__varz(),this.__constructor.apply(this,arguments)};f.prototype.__constructor=function(){this.features._m_id=this},f.prototype.__varz=function(){this.features=new e},f.prototype.Set=function(a){key=a._key},f.prototype.Copy=function(){var a=new f;return a.key=key,a},f.prototype.__defineSetter__("key",function(){return this._key}),f.prototype.__defineSetter__("key",function(a){this._key=a,this.features._referenceEdge=this._key&255,this.features._incidentEdge=(this._key&65280)>>8&255,this.features._incidentVertex=(this._key&16711680)>>16&255,this.features._flip=(this._key&4278190080)>>24&255}),f.prototype._key=0,f.prototype.features=new e,f.prototype.set=f.prototype.Set,f.prototype.copy=f.prototype.Copy,b.exports=f},n:function(a,b,c,d){var e=function(){this.__varz(),this.__constructor.apply(this,arguments)};e.prototype.__constructor=function(){},e.prototype.__varz=function(){},e.prototype.__defineGetter__("referenceEdge",function(){return this._referenceEdge}),e.prototype.__defineSetter__("referenceEdge",function(a){this._referenceEdge=a,this._m_id._key=this._m_id._key&4294967040|this._referenceEdge&255}),e.prototype.__defineGetter__("incidentEdge",function(){return this._incidentEdge}),e.prototype.__defineSetter__("incidentEdge",function(a){this._incidentEdge=a,this._m_id._key=this._m_id._key&4294902015|this._incidentEdge<<8&65280}),e.prototype.__defineGetter__("incidentVertex",function(){return this._incidentVertex}),e.prototype.__defineSetter__("incidentVertex",function(a){this._incidentVertex=a,this._m_id._key=this._m_id._key&4278255615|this._incidentVertex<<16&16711680}),e.prototype.__defineGetter__("flip",function(){return this._flip}),e.prototype.__defineSetter__("flip",function(a){this._flip=a,this._m_id._key=this._m_id._key&16777215|this._flip<<24&4278190080}),e.prototype._referenceEdge=0,e.prototype._incidentEdge=0,e.prototype._incidentVertex=0,e.prototype._flip=0,e.prototype._m_id=null,b.exports=e},o:function(a,b,c,d){var e=a("p"),f=a("q"),g=a("r"),h=a("s"),i=function(){this.__varz(),this.__constructor.apply(this,arguments)};i.prototype.__constructor=function(){},i.prototype.__varz=function(){this.m_step=new e,this.m_constraints=new Array},i.s_worldManifold=new f,i.s_psm=new g,i.prototype.Initialize=function(a,b,c,d){var e;this.m_step.Set(a),this.m_allocator=d;var f=0,g,j;this.m_constraintCount=c;while(this.m_constraints.length<this.m_constraintCount)this.m_constraints[this.m_constraints.length]=new h;for(f=0;f<c;++f){e=b[f];var k=e.m_fixtureA,l=e.m_fixtureB,m=k.m_shape,n=l.m_shape,o=m.m_radius,p=n.m_radius,q=k.m_body,r=l.m_body,s=e.GetManifold(),t=b2Settings.b2MixFriction(k.GetFriction(),l.GetFriction()),u=b2Settings.b2MixRestitution(k.GetRestitution(),l.GetRestitution()),v=q.m_linearVelocity.x,w=q.m_linearVelocity.y,x=r.m_linearVelocity.x,y=r.m_linearVelocity.y,z=q.m_angularVelocity,A=r.m_angularVelocity;b2Settings.b2Assert(s.m_pointCount>0),i.s_worldManifold.Initialize(s,q.m_xf,o,r.m_xf,p);var B=i.s_worldManifold.m_normal.x,C=i.s_worldManifold.m_normal.y,D=this.m_constraints[f];D.bodyA=q,D.bodyB=r,D.manifold=s,D.normal.x=B,D.normal.y=C,D.pointCount=s.m_pointCount,D.friction=t,D.restitution=u,D.localPlaneNormal.x=s.m_localPlaneNormal.x,D.localPlaneNormal.y=s.m_localPlaneNormal.y,D.localPoint.x=s.m_localPoint.x,D.localPoint.y=s.m_localPoint.y,D.radius=o+p,D.type=s.m_type;for(var E=0;E<D.pointCount;++E){var F=s.m_points[E],G=D.points[E];G.normalImpulse=F.m_normalImpulse,G.tangentImpulse=F.m_tangentImpulse,G.localPoint.SetV(F.m_localPoint);var H=G.rA.x=i.s_worldManifold.m_points[E].x-q.m_sweep.c.x,I=G.rA.y=i.s_worldManifold.m_points[E].y-q.m_sweep.c.y,J=G.rB.x=i.s_worldManifold.m_points[E].x-r.m_sweep.c.x,K=G.rB.y=i.s_worldManifold.m_points[E].y-r.m_sweep.c.y,L=H*C-I*B,M=J*C-K*B;L*=L,M*=M;var N=q.m_invMass+r.m_invMass+q.m_invI*L+r.m_invI*M;G.normalMass=1/N;var O=q.m_mass*q.m_invMass+r.m_mass*r.m_invMass;O+=q.m_mass*q.m_invI*L+r.m_mass*r.m_invI*M,G.equalizedMass=1/O;var P=C,Q=-B,R=H*Q-I*P,S=J*Q-K*P;R*=R,S*=S;var T=q.m_invMass+r.m_invMass+q.m_invI*R+r.m_invI*S;G.tangentMass=1/T,G.velocityBias=0;var U=x+ -A*K-v- -z*I,V=y+A*J-w-z*H,W=D.normal.x*U+D.normal.y*V;W<-b2Settings.b2_velocityThreshold&&(G.velocityBias+=-D.restitution*W)}if(D.pointCount==2){var X=D.points[0],Y=D.points[1],Z=q.m_invMass,$=q.m_invI,_=r.m_invMass,ab=r.m_invI,bb=X.rA.x*C-X.rA.y*B,cb=X.rB.x*C-X.rB.y*B,db=Y.rA.x*C-Y.rA.y*B,eb=Y.rB.x*C-Y.rB.y*B,fb=Z+_+$*bb*bb+ab*cb*cb,gb=Z+_+$*db*db+ab*eb*eb,hb=Z+_+$*bb*db+ab*cb*eb,ib=100;fb*fb<ib*(fb*gb-hb*hb)?(D.K.col1.Set(fb,hb),D.K.col2.Set(hb,gb),D.K.GetInverse(D.normalMass)):D.pointCount=1}}},i.prototype.InitVelocityConstraints=function(a){var b,c,d;for(var e=0;e<this.m_constraintCount;++e){var f=this.m_constraints[e],g=f.bodyA,h=f.bodyB,i=g.m_invMass,j=g.m_invI,k=h.m_invMass,l=h.m_invI,m=f.normal.x,n=f.normal.y,o=n,p=-m,q,r=0,s=0;if(a.warmStarting){s=f.pointCount;for(r=0;r<s;++r){var t=f.points[r];t.normalImpulse*=a.dtRatio,t.tangentImpulse*=a.dtRatio;var u=t.normalImpulse*m+t.tangentImpulse*o,v=t.normalImpulse*n+t.tangentImpulse*p;g.m_angularVelocity-=j*(t.rA.x*v-t.rA.y*u),g.m_linearVelocity.x-=i*u,g.m_linearVelocity.y-=i*v,h.m_angularVelocity+=l*(t.rB.x*v-t.rB.y*u),h.m_linearVelocity.x+=k*u,h.m_linearVelocity.y+=k*v}}else{s=f.pointCount;for(r=0;r<s;++r){var w=f.points[r];w.normalImpulse=0,w.tangentImpulse=0}}}},i.prototype.SolveVelocityConstraints=function(){var a=0,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;for(var x=0;x<this.m_constraintCount;++x){var y=this.m_constraints[x],z=y.bodyA,A=y.bodyB,B=z.m_angularVelocity,C=A.m_angularVelocity,D=z.m_linearVelocity,E=A.m_linearVelocity,F=z.m_invMass,G=z.m_invI,H=A.m_invMass,I=A.m_invI,J=y.normal.x,K=y.normal.y,L=K,M=-J,N=y.friction,O;for(a=0;a<y.pointCount;a++)b=y.points[a],g=E.x-C*b.rB.y-D.x+B*b.rA.y,h=E.y+C*b.rB.x-D.y-B*b.rA.x,j=g*L+h*M,k=b.tangentMass*-j,l=N*b.normalImpulse,m=b2Math.Clamp(b.tangentImpulse+k,-l,l),k=m-b.tangentImpulse,n=k*L,o=k*M,D.x-=F*n,D.y-=F*o,B-=G*(b.rA.x*o-b.rA.y*n),E.x+=H*n,E.y+=H*o,C+=I*(b.rB.x*o-b.rB.y*n),b.tangentImpulse=m;var P=y.pointCount;if(y.pointCount==1)b=y.points[0],g=E.x+ -C*b.rB.y-D.x- -B*b.rA.y,h=E.y+C*b.rB.x-D.y-B*b.rA.x,i=g*J+h*K,k=-b.normalMass*(i-b.velocityBias),m=b.normalImpulse+k,m=m>0?m:0,k=m-b.normalImpulse,n=k*J,o=k*K,D.x-=F*n,D.y-=F*o,B-=G*(b.rA.x*o-b.rA.y*n),E.x+=H*n,E.y+=H*o,C+=I*(b.rB.x*o-b.rB.y*n),b.normalImpulse=m;else{var Q=y.points[0],R=y.points[1],S=Q.normalImpulse,T=R.normalImpulse,U=E.x-C*Q.rB.y-D.x+B*Q.rA.y,V=E.y+C*Q.rB.x-D.y-B*Q.rA.x,W=E.x-C*R.rB.y-D.x+B*R.rA.y,X=E.y+C*R.rB.x-D.y-B*R.rA.x,Y=U*J+V*K,Z=W*J+X*K,$=Y-Q.velocityBias,_=Z-R.velocityBias;v=y.K,$-=v.col1.x*S+v.col2.x*T,_-=v.col1.y*S+v.col2.y*T;var ab=.001;for(;;){v=y.normalMass;var bb=-(v.col1.x*$+v.col2.x*_),cb=-(v.col1.y*$+v.col2.y*_);if(bb>=0&&cb>=0){p=bb-S,q=cb-T,r=p*J,s=p*K,t=q*J,u=q*K,D.x-=F*(r+t),D.y-=F*(s+u),B-=G*(Q.rA.x*s-Q.rA.y*r+R.rA.x*u-R.rA.y*t),E.x+=H*(r+t),E.y+=H*(s+u),C+=I*(Q.rB.x*s-Q.rB.y*r+R.rB.x*u-R.rB.y*t),Q.normalImpulse=bb,R.normalImpulse=cb;break}bb=-Q.normalMass*$,cb=0,Y=0,Z=y.K.col1.y*bb+_;if(bb>=0&&Z>=0){p=bb-S,q=cb-T,r=p*J,s=p*K,t=q*J,u=q*K,D.x-=F*(r+t),D.y-=F*(s+u),B-=G*(Q.rA.x*s-Q.rA.y*r+R.rA.x*u-R.rA.y*t),E.x+=H*(r+t),E.y+=H*(s+u),C+=I*(Q.rB.x*s-Q.rB.y*r+R.rB.x*u-R.rB.y*t),Q.normalImpulse=bb,R.normalImpulse=cb;break}bb=0,cb=-R.normalMass*_,Y=y.K.col2.x*cb+$,Z=0;if(cb>=0&&Y>=0){p=bb-S,q=cb-T,r=p*J,s=p*K,t=q*J,u=q*K,D.x-=F*(r+t),D.y-=F*(s+u),B-=G*(Q.rA.x*s-Q.rA.y*r+R.rA.x*u-R.rA.y*t),E.x+=H*(r+t),E.y+=H*(s+u),C+=I*(Q.rB.x*s-Q.rB.y*r+R.rB.x*u-R.rB.y*t),Q.normalImpulse=bb,R.normalImpulse=cb;break}bb=0,cb=0,Y=$,Z=_;if(Y>=0&&Z>=0){p=bb-S,q=cb-T,r=p*J,s=p*K,t=q*J,u=q*K,D.x-=F*(r+t),D.y-=F*(s+u),B-=G*(Q.rA.x*s-Q.rA.y*r+R.rA.x*u-R.rA.y*t),E.x+=H*(r+t),E.y+=H*(s+u),C+=I*(Q.rB.x*s-Q.rB.y*r+R.rB.x*u-R.rB.y*t),Q.normalImpulse=bb,R.normalImpulse=cb;break}break}}z.m_angularVelocity=B,A.m_angularVelocity=C}},i.prototype.FinalizeVelocityConstraints=function(){for(var a=0;a<this.m_constraintCount;++a){var b=this.m_constraints[a],c=b.manifold;for(var d=0;d<b.pointCount;++d){var e=c.m_points[d],f=b.points[d];e.m_normalImpulse=f.normalImpulse,e.m_tangentImpulse=f.tangentImpulse}}},i.prototype.SolvePositionConstraints=function(a){var b=0;for(var c=0;c<this.m_constraintCount;c++){var d=this.m_constraints[c],e=d.bodyA,f=d.bodyB,g=e.m_mass*e.m_invMass,h=e.m_mass*e.m_invI,j=f.m_mass*f.m_invMass,k=f.m_mass*f.m_invI;i.s_psm.Initialize(d);var l=i.s_psm.m_normal;for(var m=0;m<d.pointCount;m++){var n=d.points[m],o=i.s_psm.m_points[m],p=i.s_psm.m_separations[m],q=o.x-e.m_sweep.c.x,r=o.y-e.m_sweep.c.y,s=o.x-f.m_sweep.c.x,t=o.y-f.m_sweep.c.y;b=b<p?b:p;var u=b2Math.Clamp(a*(p+b2Settings.b2_linearSlop),-b2Settings.b2_maxLinearCorrection,0),v=-n.equalizedMass*u,w=v*l.x,x=v*l.y;e.m_sweep.c.x-=g*w,e.m_sweep.c.y-=g*x,e.m_sweep.a-=h*(q*x-r*w),e.SynchronizeTransform(),f.m_sweep.c.x+=j*w,f.m_sweep.c.y+=j*x,f.m_sweep.a+=k*(s*x-t*w),f.SynchronizeTransform()}}return b>-1.5*b2Settings.b2_linearSlop},i.prototype.m_step=new e,i.prototype.m_allocator=null,i.prototype.m_constraints=new Array,i.prototype.m_constraintCount=0,i.prototype.initialize=i.prototype.Initialize,i.prototype.initVelocityConstraints=i.prototype.InitVelocityConstraints,i.prototype.solveVelocityConstraints=i.prototype.SolveVelocityConstraints,i.prototype.finalizeVelocityConstraints=i.prototype.FinalizeVelocityConstraints,i.prototype.solvePositionConstraints=i.prototype.SolvePositionConstraints,b.exports=i},p:function(a,b,c,d){var e=function(){this.__varz(),this.__constructor.apply(this,arguments)};e.prototype.__constructor=function(){},e.prototype.__varz=function(){},e.prototype.Set=function(a){this.dt=a.dt,this.inv_dt=a.inv_dt,this.positionIterations=a.positionIterations,this.velocityIterations=a.velocityIterations,this.warmStarting=a.warmStarting},e.prototype.dt=null,e.prototype.inv_dt=null,e.prototype.dtRatio=null,e.prototype.velocityIterations=0,e.prototype.positionIterations=0,e.prototype.warmStarting=null,e.prototype.set=e.prototype.Set,b.exports=e},q:function(a,b,c,d){var e=a("1"),f=function(){this.__varz(),this.__constructor.apply(this,arguments)};f.prototype.__constructor=function(){this.m_points=new Array(b2Settings.b2_maxManifoldPoints);for(var a=0;a<b2Settings.b2_maxManifoldPoints;a++)this.m_points[a]=new e},f.prototype.__varz=function(){this.m_normal=new e},f.prototype.Initialize=function(a,b,c,d,e){if(a.m_pointCount==0)return;var f=0,g,h,i,j,k,l,m,n;switch(a.m_type){case b2Manifold.e_circles:h=b.R,g=a.m_localPoint;var o=b.position.x+h.col1.x*g.x+h.col2.x*g.y,p=b.position.y+h.col1.y*g.x+h.col2.y*g.y;h=d.R,g=a.m_points[0].m_localPoint;var q=d.position.x+h.col1.x*g.x+h.col2.x*g.y,r=d.position.y+h.col1.y*g.x+h.col2.y*g.y,s=q-o,t=r-p,u=s*s+t*t;if(u>Number.MIN_VALUE*Number.MIN_VALUE){var v=Math.sqrt(u);this.m_normal.x=s/v,this.m_normal.y=t/v}else this.m_normal.x=1,this.m_normal.y=0;var w=o+c*this.m_normal.x,x=p+c*this.m_normal.y,y=q-e*this.m_normal.x,z=r-e*this.m_normal.y;this.m_points[0].x=.5*(w+y),this.m_points[0].y=.5*(x+z);break;case b2Manifold.e_faceA:h=b.R,g=a.m_localPlaneNormal,i=h.col1.x*g.x+h.col2.x*g.y,j=h.col1.y*g.x+h.col2.y*g.y,h=b.R,g=a.m_localPoint,k=b.position.x+h.col1.x*g.x+h.col2.x*g.y,l=b.position.y+h.col1.y*g.x+h.col2.y*g.y,this.m_normal.x=i,this.m_normal.y=j;for(f=0;f<a.m_pointCount;f++)h=d.R,g=a.m_points[f].m_localPoint,m=d.position.x+h.col1.x*g.x+h.col2.x*g.y,n=d.position.y+h.col1.y*g.x+h.col2.y*g.y,this.m_points[f].x=m+.5*(c-(m-k)*i-(n-l)*j-e)*i,this.m_points[f].y=n+.5*(c-(m-k)*i-(n-l)*j-e)*j;break;case b2Manifold.e_faceB:h=d.R,g=a.m_localPlaneNormal,i=h.col1.x*g.x+h.col2.x*g.y,j=h.col1.y*g.x+h.col2.y*g.y,h=d.R,g=a.m_localPoint,k=d.position.x+h.col1.x*g.x+h.col2.x*g.y,l=d.position.y+h.col1.y*g.x+h.col2.y*g.y,this.m_normal.x=-i,this.m_normal.y=-j;for(f=0;f<a.m_pointCount;f++)h=b.R,g=a.m_points[f].m_localPoint,m=b.position.x+h.col1.x*g.x+h.col2.x*g.y,n=b.position.y+h.col1.y*g.x+h.col2.y*g.y,this.m_points[f].x=m+.5*(e-(m-k)*i-(n-l)*j-c)*i,this.m_points[f].y=n+.5*(e-(m-k)*i-(n-l)*j-c)*j}},f.prototype.m_normal=new e,f.prototype.m_points=null,f.prototype.initialize=f.prototype.Initialize,b.exports=f},r:function(a,b,c,d){var e=a("1"),f=function(){this.__varz(),this.__constructor.apply(this,arguments)};f.prototype.__constructor=function(){this.m_normal=new e,this.m_separations=new Array(b2Settings.b2_maxManifoldPoints),this.m_points=new Array(b2Settings.b2_maxManifoldPoints);for(var a=0;a<b2Settings.b2_maxManifoldPoints;a++)this.m_points[a]=new e},f.prototype.__varz=function(){},f.circlePointA=new e,f.circlePointB=new e,f.prototype.Initialize=function(a){b2Settings.b2Assert(a.pointCount>0);var b=0,c,d,e,f,g,h;switch(a.type){case b2Manifold.e_circles:e=a.bodyA.m_xf.R,f=a.localPoint;var i=a.bodyA.m_xf.position.x+(e.col1.x*f.x+e.col2.x*f.y),j=a.bodyA.m_xf.position.y+(e.col1.y*f.x+e.col2.y*f.y);e=a.bodyB.m_xf.R,f=a.points[0].localPoint;var k=a.bodyB.m_xf.position.x+(e.col1.x*f.x+e.col2.x*f.y),l=a.bodyB.m_xf.position.y+(e.col1.y*f.x+e.col2.y*f.y),m=k-i,n=l-j,o=m*m+n*n;if(o>Number.MIN_VALUE*Number.MIN_VALUE){var p=Math.sqrt(o);this.m_normal.x=m/p,this.m_normal.y=n/p}else this.m_normal.x=1,this.m_normal.y=0;this.m_points[0].x=.5*(i+k),this.m_points[0].y=.5*(j+l),this.m_separations[0]=m*this.m_normal.x+n*this.m_normal.y-a.radius;break;case b2Manifold.e_faceA:e=a.bodyA.m_xf.R,f=a.localPlaneNormal,this.m_normal.x=e.col1.x*f.x+e.col2.x*f.y,this.m_normal.y=e.col1.y*f.x+e.col2.y*f.y,e=a.bodyA.m_xf.R,f=a.localPoint,g=a.bodyA.m_xf.position.x+(e.col1.x*f.x+e.col2.x*f.y),h=a.bodyA.m_xf.position.y+(e.col1.y*f.x+e.col2.y*f.y),e=a.bodyB.m_xf.R;for(b=0;b<a.pointCount;++b)f=a.points[b].localPoint,c=a.bodyB.m_xf.position.x+(e.col1.x*f.x+e.col2.x*f.y),d=a.bodyB.m_xf.position.y+(e.col1.y*f.x+e.col2.y*f.y),this.m_separations[b]=(c-g)*this.m_normal.x+(d-h)*this.m_normal.y-a.radius,this.m_points[b].x=c,this.m_points[b].y=d;break;case b2Manifold.e_faceB:e=a.bodyB.m_xf.R,f=a.localPlaneNormal,this.m_normal.x=e.col1.x*f.x+e.col2.x*f.y,this.m_normal.y=e.col1.y*f.x+e.col2.y*f.y,e=a.bodyB.m_xf.R,f=a.localPoint,g=a.bodyB.m_xf.position.x+(e.col1.x*f.x+e.col2.x*f.y),h=a.bodyB.m_xf.position.y+(e.col1.y*f.x+e.col2.y*f.y),e=a.bodyA.m_xf.R;for(b=0;b<a.pointCount;++b)f=a.points[b].localPoint,c=a.bodyA.m_xf.position.x+(e.col1.x*f.x+e.col2.x*f.y),d=a.bodyA.m_xf.position.y+(e.col1.y*f.x+e.col2.y*f.y),this.m_separations[b]=(c-g)*this.m_normal.x+(d-h)*this.m_normal.y-a.radius,this.m_points[b].Set(c,d);this.m_normal.x*=-1,this.m_normal.y*=-1}},f.prototype.m_normal=null,f.prototype.m_points=null,f.prototype.m_separations=null,f.prototype.initialize=f.prototype.Initialize,b.exports=f},s:function(a,b,c,d){var e=a("t"),f=a("1"),g=a("5"),h=function(){this.__varz(),this.__constructor.apply(this,arguments)};h.prototype.__constructor=function(){this.points=new Array(b2Settings.b2_maxManifoldPoints);for(var a=0;a<b2Settings.b2_maxManifoldPoints;a++)this.points[a]=new e},h.prototype.__varz=function(){this.localPlaneNormal=new f,this.localPoint=new f,this.normal=new f,this.normalMass=new g,this.K=new g},h.prototype.points=null,h.prototype.localPlaneNormal=new f,h.prototype.localPoint=new f,h.prototype.normal=new f,h.prototype.normalMass=new g,h.prototype.K=new g,h.prototype.bodyA=null,h.prototype.bodyB=null,h.prototype.type=0,h.prototype.radius=null,h.prototype.friction=null,h.prototype.restitution=null,h.prototype.pointCount=0,h.prototype.manifold=null,b.exports=h},t:function(a,b,c,d){var e=a("1"),f=function(){this.__varz(),this.__constructor.apply(this,arguments)};f.prototype.__constructor=function(){},f.prototype.__varz=function(){this.localPoint=new e,this.rA=new e,this.rB=new e},f.prototype.localPoint=new e,f.prototype.rA=new e,f.prototype.rB=new e,f.prototype.normalImpulse=null,f.prototype.tangentImpulse=null,f.prototype.normalMass=null,f.prototype.tangentMass=null,f.prototype.equalizedMass=null,f.prototype.velocityBias=null,b.exports=f},u:function(a,b,c,d){var e=a("v"),f=function(){this.__varz(),this.__constructor.apply(this,arguments)};f.prototype.__constructor=function(){this.m_bodies=new Array,this.m_contacts=new Array,this.m_joints=new Array},f.prototype.__varz=function(){},f.s_impulse=new e,f.prototype.Initialize=function(a,b,c,d,e,f){var g=0;this.m_bodyCapacity=a,this.m_contactCapacity=b,this.m_jointCapacity=c,this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0,this.m_allocator=d,this.m_listener=e,this.m_contactSolver=f;for(g=this.m_bodies.length;g<a;g++)this.m_bodies[g]=null;for(g=this.m_contacts.length;g<b;g++)this.m_contacts[g]=null;for(g=this.m_joints.length;g<c;g++)this.m_joints[g]=null},f.prototype.Clear=function(){this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0},f.prototype.Solve=function(a,b,c){var d=0,e=0,f,g;for(d=0;d<this.m_bodyCount;++d){f=this.m_bodies[d];if(f.GetType()!=b2Body.b2_dynamicBody)continue;f.m_linearVelocity.x+=a.dt*(b.x+f.m_invMass*f.m_force.x),f.m_linearVelocity.y+=a.dt*(b.y+f.m_invMass*f.m_force.y),f.m_angularVelocity+=a.dt*f.m_invI*f.m_torque,f.m_linearVelocity.Multiply(b2Math.Clamp(1-a.dt*f.m_linearDamping,0,1)),f.m_angularVelocity*=b2Math.Clamp(1-a.dt*f.m_angularDamping,0,1)}this.m_contactSolver.Initialize(a,this.m_contacts,this.m_contactCount,this.m_allocator);var h=this.m_contactSolver;h.InitVelocityConstraints(a);for(d=0;d<this.m_jointCount;++d)g=this.m_joints[d],g.InitVelocityConstraints(a);for(d=0;d<a.velocityIterations;++d){for(e=0;e<this.m_jointCount;++e)g=this.m_joints[e],g.SolveVelocityConstraints(a);h.SolveVelocityConstraints()}for(d=0;d<this.m_jointCount;++d)g=this.m_joints[d],g.FinalizeVelocityConstraints();h.FinalizeVelocityConstraints();for(d=0;d<this.m_bodyCount;++d){f=this.m_bodies[d];if(f.GetType()==b2Body.b2_staticBody)continue;var i=a.dt*f.m_linearVelocity.x,j=a.dt*f.m_linearVelocity.y;i*i+j*j>b2Settings.b2_maxTranslationSquared&&(f.m_linearVelocity.Normalize(),f.m_linearVelocity.x*=b2Settings.b2_maxTranslation*a.inv_dt,f.m_linearVelocity.y*=b2Settings.b2_maxTranslation*a.inv_dt);var k=a.dt*f.m_angularVelocity;k*k>b2Settings.b2_maxRotationSquared&&(f.m_angularVelocity<0?f.m_angularVelocity=-b2Settings.b2_maxRotation*a.inv_dt:f.m_angularVelocity=b2Settings.b2_maxRotation*a.inv_dt),f.m_sweep.c0.SetV(f.m_sweep.c),f.m_sweep.a0=f.m_sweep.a,f.m_sweep.c.x+=a.dt*f.m_linearVelocity.x,f.m_sweep.c.y+=a.dt*f.m_linearVelocity.y,f.m_sweep.a+=a.dt*f.m_angularVelocity,f.SynchronizeTransform()}for(d=0;d<a.positionIterations;++d){var l=h.SolvePositionConstraints(b2Settings.b2_contactBaumgarte),m=!0;for(e=0;e<this.m_jointCount;++e){g=this.m_joints[e];var n=g.SolvePositionConstraints(b2Settings.b2_contactBaumgarte);m=m&&n}if(l&&m)break}this.Report(h.m_constraints);if(c){var o=Number.MAX_VALUE,p=b2Settings.b2_linearSleepTolerance*b2Settings.b2_linearSleepTolerance,q=b2Settings.b2_angularSleepTolerance*b2Settings.b2_angularSleepTolerance;for(d=0;d<this.m_bodyCount;++d){f=this.m_bodies[d];if(f.GetType()==b2Body.b2_staticBody)continue;(f.m_flags&b2Body.e_allowSleepFlag)==0&&(f.m_sleepTime=0,o=0),(f.m_flags&b2Body.e_allowSleepFlag)==0||f.m_angularVelocity*f.m_angularVelocity>q||b2Math.Dot(f.m_linearVelocity,f.m_linearVelocity)>p?(f.m_sleepTime=0,o=0):(f.m_sleepTime+=a.dt,o=b2Math.Min(o,f.m_sleepTime))}if(o>=b2Settings.b2_timeToSleep)for(d=0;d<this.m_bodyCount;++d)f=this.m_bodies[d],f.SetAwake(!1)}},f.prototype.SolveTOI=function(a){var b=0,c=0;this.m_contactSolver.Initialize(a,this.m_contacts,this.m_contactCount,this.m_allocator);var d=this.m_contactSolver;for(b=0;b<this.m_jointCount;++b)this.m_joints[b].InitVelocityConstraints(a);for(b=0;b<a.velocityIterations;++b){d.SolveVelocityConstraints();for(c=0;c<this.m_jointCount;++c)this.m_joints[c].SolveVelocityConstraints(a)}for(b=0;b<this.m_bodyCount;++b){var e=this.m_bodies[b];if(e.GetType()==b2Body.b2_staticBody)continue;var f=a.dt*e.m_linearVelocity.x,g=a.dt*e.m_linearVelocity.y;f*f+g*g>b2Settings.b2_maxTranslationSquared&&(e.m_linearVelocity.Normalize(),e.m_linearVelocity.x*=b2Settings.b2_maxTranslation*a.inv_dt,e.m_linearVelocity.y*=b2Settings.b2_maxTranslation*a.inv_dt);var h=a.dt*e.m_angularVelocity;h*h>b2Settings.b2_maxRotationSquared&&(e.m_angularVelocity<0?e.m_angularVelocity=-b2Settings.b2_maxRotation*a.inv_dt:e.m_angularVelocity=b2Settings.b2_maxRotation*a.inv_dt),e.m_sweep.c0.SetV(e.m_sweep.c),e.m_sweep.a0=e.m_sweep.a,e.m_sweep.c.x+=a.dt*e.m_linearVelocity.x,e.m_sweep.c.y+=a.dt*e.m_linearVelocity.y,e.m_sweep.a+=a.dt*e.m_angularVelocity,e.SynchronizeTransform()}var i=.75;for(b=0;b<a.positionIterations;++b){var j=d.SolvePositionConstraints(i),k=!0;for(c=0;c<this.m_jointCount;++c){var l=this.m_joints[c].SolvePositionConstraints(b2Settings.b2_contactBaumgarte);k=k&&l}if(j&&k)break}this.Report(d.m_constraints)},f.prototype.Report=function(a){if(this.m_listener==null)return;for(var b=0;b<this.m_contactCount;++b){var c=this.m_contacts[b],d=a[b];for(var e=0;e<d.pointCount;++e)f.s_impulse.normalImpulses[e]=d.points[e].normalImpulse,f.s_impulse.tangentImpulses[e]=d.points[e].tangentImpulse;this.m_listener.PostSolve(c,f.s_impulse)}},f.prototype.AddBody=function(a){a.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=a},f.prototype.AddContact=function(a){this.m_contacts[this.m_contactCount++]=a},f.prototype.AddJoint=function(a){this.m_joints[this.m_jointCount++]=a},f.prototype.m_allocator=null,f.prototype.m_listener=null,f.prototype.m_contactSolver=null,f.prototype.m_bodies=null,f.prototype.m_contacts=null,f.prototype.m_joints=null,f.prototype.m_bodyCount=0,f.prototype.m_jointCount=0,f.prototype.m_contactCount=0,f.prototype.m_bodyCapacity=0,f.prototype.m_contactCapacity=0,f.prototype.m_jointCapacity=0,f.prototype.initialize=f.prototype.Initialize,f.prototype.clear=f.prototype.Clear,f.prototype.solve=f.prototype.Solve,f.prototype.solveTOI=f.prototype.SolveTOI,f.prototype.report=f.prototype.Report,f.prototype.addBody=f.prototype.AddBody,f.prototype.addContact=f.prototype.AddContact,f.prototype.addJoint=f.prototype.AddJoint,b.exports=f},v:function(a,b,c,d){var e=function(){this.__varz(),this.__constructor.apply(this,arguments)};e.prototype.__constructor=function(){},e.prototype.__varz=function(){this.normalImpulses=new Array(b2Settings.b2_maxManifoldPoints),this.tangentImpulses=new Array(b2Settings.b2_maxManifoldPoints)},e.prototype.normalImpulses=new Array(b2Settings.b2_maxManifoldPoints),e.prototype.tangentImpulses=new Array(b2Settings.b2_maxManifoldPoints),b.exports=e},w:function(a,b,c,d){var e=function(){this.__varz(),this.__constructor.apply(this,arguments)};e.prototype.__constructor=function(a,b,c){this._r=parseInt(255*b2Math.Clamp(a,0,1)),this._g=parseInt(255*b2Math.Clamp(b,0,1)),this._b=parseInt(255*b2Math.Clamp(c,0,1))},e.prototype.__varz=function(){},e.prototype.Set=function(a,b,c){this._r=parseInt(255*b2Math.Clamp(a,0,1)),this._g=parseInt(255*b2Math.Clamp(b,0,1)),this._b=parseInt(255*b2Math.Clamp(c,0,1))},e.prototype.__defineGetter__("r",function(){return this._r}),e.prototype.__defineSetter__("r",function(a){this._r=parseInt(255*b2Math.Clamp(a,0,1))}),e.prototype.__defineGetter__("g",function(){return this._g}),e.prototype.__defineSetter__("g",function(a){this._g=parseInt(255*b2Math.Clamp(a,0,1))}),e.prototype.__defineGetter__("b",function(){return this._b}),e.prototype.__defineSetter__("b",function(a){this._b=parseInt(255*b2Math.Clamp(a,0,1))}),e.prototype.__defineGetter__("color",function(){return this._r<<16|this._g<<8|this._b}),e.prototype._r=0,e.prototype._g=0,e.prototype._b=0,e.prototype.set=e.prototype.Set,b.exports=e},x:function(a,b,c,d){var e=a("1"),f=function(){this.__varz(),this.__constructor.apply(this,arguments)};f.prototype.__constructor=function(){},f.prototype.__varz=function(){this.normal=new e},f.prototype.normal=new e,f.prototype.fraction=null,b.exports=f},y:function(a,b,c,d){var e=a("1"),f=a("5"),g=a("4"),h=a("a"),i=function(){b2Shape.prototype.__varz.call(this),this.__varz(),this.__constructor.apply(this,arguments)};extend(i.prototype,b2Shape.prototype),i.prototype._super=b2Shape.prototype,i.prototype.__constructor=function(){this._super.__constructor.apply(this,arguments),this.m_type=b2Shape.e_polygonShape,this.m_centroid=new e,this.m_vertices=new Array,this.m_normals=new Array},i.prototype.__varz=function(){},i.AsArray=function(a,b){var c=new i;return c.SetAsArray(a,b),c},i.AsVector=function(a,b){var c=new i;return c.SetAsVector(a,b),c},i.AsBox=function(a,b){var c=new i;return c.SetAsBox(a,b),c},i.AsOrientedBox=function(a,b,c,d){var e=new i;return e.SetAsOrientedBox(a,b,c,d),e},i.AsEdge=function(a,b){var c=new i;return c.SetAsEdge(a,b),c},i.ComputeCentroid=function(a,b){var c=new e,d=0,f=0,g=0,h=1/3;for(var i=0;i<b;++i){var j=a[i],k=i+1<b?a[parseInt(i+1)]:a[0],l=j.x-f,m=j.y-g,n=k.x-f,o=k.y-g,p=l*o-m*n,q=.5*p;d+=q,c.x+=q*h*(f+j.x+k.x),c.y+=q*h*(g+j.y+k.y)}return c.x*=1/d,c.y*=1/d,c},i.ComputeOBB=function(a,b,c){var d=0,e=new Array(c+1);for(d=0;d<c;++d)e[d]=b[d];e[c]=e[0];var f=Number.MAX_VALUE;for(d=1;d<=c;++d){var g=e[parseInt(d-1)],h=e[d].x-g.x,i=e[d].y-g.y,j=Math.sqrt(h*h+i*i);h/=j,i/=j;var k=-i,l=h,m=Number.MAX_VALUE,n=Number.MAX_VALUE,o=-Number.MAX_VALUE,p=-Number.MAX_VALUE;for(var q=0;q<c;++q){var r=e[q].x-g.x,s=e[q].y-g.y,t=h*r+i*s,u=k*r+l*s;t<m&&(m=t),u<n&&(n=u),t>o&&(o=t),u>p&&(p=u)}var v=(o-m)*(p-n);if(v<.95*f){f=v,a.R.col1.x=h,a.R.col1.y=i,a.R.col2.x=k,a.R.col2.y=l;var w=.5*(m+o),x=.5*(n+p),y=a.R;a.center.x=g.x+(y.col1.x*w+y.col2.x*x),a.center.y=g.y+(y.col1.y*w+y.col2.y*x),a.extents.x=.5*(o-m),a.extents.y=.5*(p-n)}}},i.s_mat=new f,i.prototype.Validate=function(){return!1},i.prototype.Reserve=function(a){for(var b=this.m_vertices.length;b<a;b++)this.m_vertices[b]=new e,this.m_normals[b]=new e},i.prototype.Copy=function(){var a=new i;return a.Set(this),a},i.prototype.Set=function(a){this._super.Set.apply(this,[a]);if(isInstanceOf(a,i)){var b=a;this.m_centroid.SetV(b.m_centroid),this.m_vertexCount=b.m_vertexCount,this.Reserve(this.m_vertexCount);for(var c=0;c<this.m_vertexCount;c++)this.m_vertices[c].SetV(b.m_vertices[c]),this.m_normals[c].SetV(b.m_normals[c])}},i.prototype.SetAsArray=function(a,b){var c=new Array;for(var d=0,e=null;d<a.length,e=a[d];d++)c.push(e);this.SetAsVector(c,b)},i.prototype.SetAsVector=function(a,b){typeof b=="undefined"&&(b=a.length),b2Settings.b2Assert(2<=b),this.m_vertexCount=b,this.Reserve(b);var c=0;for(c=0;c<this.m_vertexCount;c++)this.m_vertices[c].SetV(a[c]);for(c=0;c<this.m_vertexCount;++c){var d=c,e=c+1<this.m_vertexCount?c+1:0,f=b2Math.SubtractVV(this.m_vertices[e],this.m_vertices[d]);b2Settings.b2Assert(f.LengthSquared()>Number.MIN_VALUE),this.m_normals[c].SetV(b2Math.CrossVF(f,1)),this.m_normals[c].Normalize()}this.m_centroid=i.ComputeCentroid(this.m_vertices,this.m_vertexCount)},i.prototype.SetAsBox=function(a,b){this.m_vertexCount=4,this.Reserve(4),this.m_vertices[0].Set(-a,-b),this.m_vertices[1].Set(a,-b),this.m_vertices[2].Set(a,b),this.m_vertices[3].Set(-a,b),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid.SetZero()},i.prototype.SetAsOrientedBox=function(a,b,c,d){this.m_vertexCount=4,this.Reserve(4),this.m_vertices[0].Set(-a,-b),this.m_vertices[1].Set(a,-b),this.m_vertices[2].Set(a,b),this.m_vertices[3].Set(-a,b),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid=c;var e=new g;e.position=c,e.R.Set(d);for(var f=0;f<this.m_vertexCount;++f)this.m_vertices[f]=b2Math.MulX(e,this.m_vertices[f]),this.m_normals[f]=b2Math.MulMV(e.R,this.m_normals[f])},i.prototype.SetAsEdge=function(a,b){this.m_vertexCount=2,this.Reserve(2),this.m_vertices[0].SetV(a),this.m_vertices[1].SetV(b),this.m_centroid.x=.5*(a.x+b.x),this.m_centroid.y=.5*(a.y+b.y),this.m_normals[0]=b2Math.CrossVF(b2Math.SubtractVV(b,a),1),this.m_normals[0].Normalize(),this.m_normals[1].x=-this.m_normals[0].x,this.m_normals[1].y=-this.m_normals[0].y},i.prototype.TestPoint=function(a,b){var c,d=a.R,e=b.x-a.position.x,f=b.y-a.position.y,g=e*d.col1.x+f*d.col1.y,h=e*d.col2.x+f*d.col2.y;for(var i=0;i<this.m_vertexCount;++i){c=this.m_vertices[i],e=g-c.x,f=h-c.y,c=this.m_normals[i];var j=c.x*e+c.y*f;if(j>0)return!1}return!0},i.prototype.RayCast=function(a,b,c){var d=0,e=b.maxFraction,f,g,h,i;f=b.p1.x-c.position.x,g=b.p1.y-c.position.y,h=c.R;var j=f*h.col1.x+g*h.col1.y,k=f*h.col2.x+g*h.col2.y;f=b.p2.x-c.position.x,g=b.p2.y-c.position.y,h=c.R;var l=f*h.col1.x+g*h.col1.y,m=f*h.col2.x+g*h.col2.y,n=l-j,o=m-k,p=-1;for(var q=0;q<this.m_vertexCount;++q){i=this.m_vertices[q],f=i.x-j,g=i.y-k,i=this.m_normals[q];var r=i.x*f+i.y*g,s=i.x*n+i.y*o;if(s==0){if(r<0)return!1}else s<0&&r<d*s?(d=r/s,p=q):s>0&&r<e*s&&(e=r/s);if(e<d-Number.MIN_VALUE)return!1}return p>=0?(a.fraction=d,h=c.R,i=this.m_normals[p],a.normal.x=h.col1.x*i.x+h.col2.x*i.y,a.normal.y=h.col1.y*i.x+h.col2.y*i.y,!0):!1},i.prototype.ComputeAABB=function(a,b){var c=b.R,d=this.m_vertices[0],e=b.position.x+(c.col1.x*d.x+c.col2.x*d.y),f=b.position.y+(c.col1.y*d.x+c.col2.y*d.y),g=e,h=f;for(var i=1;i<this.m_vertexCount;++i){d=this.m_vertices[i];var j=b.position.x+(c.col1.x*d.x+c.col2.x*d.y),k=b.position.y+(c.col1.y*d.x+c.col2.y*d.y);e=e<j?e:j,f=f<k?f:k,g=g>j?g:j,h=h>k?h:k}a.lowerBound.x=e-this.m_radius,a.lowerBound.y=f-this.m_radius,a.upperBound.x=g+this.m_radius,a.upperBound.y=h+this.m_radius},i.prototype.ComputeMass=function(a,b){if(this.m_vertexCount==2){a.center.x=.5*(this.m_vertices[0].x+this.m_vertices[1].x),a.center.y=.5*(this.m_vertices[0].y+this.m_vertices[1].y),a.mass=0,a.I=0;return}var c=0,d=0,e=0,f=0,g=0,h=0,i=1/3;for(var j=0;j<this.m_vertexCount;++j){var k=this.m_vertices[j],l=j+1<this.m_vertexCount?this.m_vertices[parseInt(j+1)]:this.m_vertices[0],m=k.x-g,n=k.y-h,o=l.x-g,p=l.y-h,q=m*p-n*o,r=.5*q;e+=r,c+=r*i*(g+k.x+l.x),d+=r*i*(h+k.y+l.y);var s=g,t=h,u=m,v=n,w=o,x=p,y=i*(.25*(u*u+w*u+w*w)+(s*u+s*w))+.5*s*s,z=i*(.25*(v*v+x*v+x*x)+(t*v+t*x))+.5*t*t;f+=q*(y+z)}a.mass=b*e,c*=1/e,d*=1/e,a.center.Set(c,d),a.I=b*f},i.prototype.ComputeSubmergedArea=function(a,b,c,d){var f=b2Math.MulTMV(c.R,a),g=b-b2Math.Dot(a,c.position),i=new Array,j=0,k=-1,l=-1,m=!1,n=0;for(n=0;n<this.m_vertexCount;++n){i[n]=b2Math.Dot(f,this.m_vertices[n])-g;var o=i[n]<-Number.MIN_VALUE;n>0&&(o?m||(k=n-1,j++):m&&(l=n-1,j++)),m=o}switch(j){case 0:if(m){var p=new h;return this.ComputeMass(p,1),d.SetV(b2Math.MulX(c,p.center)),p.mass}return 0;case 1:k==-1?k=this.m_vertexCount-1:l=this.m_vertexCount-1}var q=(k+1)%this.m_vertexCount,r=(l+1)%this.m_vertexCount,s=(0-i[k])/(i[q]-i[k]),t=(0-i[l])/(i[r]-i[l]),u=new e(this.m_vertices[k].x*(1-s)+this.m_vertices[q].x*s,this.m_vertices[k].y*(1-s)+this.m_vertices[q].y*s),v=new e(this.m_vertices[l].x*(1-t)+this.m_vertices[r].x*t,this.m_vertices[l].y*(1-t)+this.m_vertices[r].y*t),w=0,x=new e,y=this.m_vertices[q],z;n=q;while(n!=r){n=(n+1)%this.m_vertexCount,n==r?z=v:z=this.m_vertices[n];var A=.5*((y.x-u.x)*(z.y-u.y)-(y.y-u.y)*(z.x-u.x));w+=A,x.x+=A*(u.x+y.x+z.x)/3,x.y+=A*(u.y+y.y+z.y)/3,y=z}return x.Multiply(1/w),d.SetV(b2Math.MulX(c,x)),w},i.prototype.GetVertexCount=function(){return this.m_vertexCount},i.prototype.GetVertices=function(){return this.m_vertices},i.prototype.GetNormals=function(){return this.m_normals},i.prototype.GetSupport=function(a){var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y;for(var d=1;d<this.m_vertexCount;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return b},i.prototype.GetSupportVertex=function(a){var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y;for(var d=1;d<this.m_vertexCount;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return this.m_vertices[b]},i.prototype.m_centroid=null,i.prototype.m_vertices=null,i.prototype.m_normals=null,i.prototype.m_vertexCount=0,i.prototype.validate=i.prototype.Validate,i.prototype.reserve=i.prototype.Reserve,i.prototype.copy=i.prototype.Copy,i.prototype.set=i.prototype.Set,i.prototype.setAsArray=i.prototype.SetAsArray,i.prototype.setAsVector=i.prototype.SetAsVector,i.prototype.setAsBox=i.prototype.SetAsBox,i.prototype.setAsOrientedBox=i.prototype.SetAsOrientedBox,i.prototype.setAsEdge=i.prototype.SetAsEdge,i.prototype.testPoint=i.prototype.TestPoint,i.prototype.rayCast=i.prototype.RayCast,i.prototype.computeAABB=i.prototype.ComputeAABB,i.prototype.computeMass=i.prototype.ComputeMass,i.prototype.computeSubmergedArea=i.prototype.ComputeSubmergedArea,i.prototype.getVertexCount=i.prototype.GetVertexCount,i.prototype.getVertices=i.prototype.GetVertices,i.prototype.getNormals=i.prototype.GetNormals,i.prototype.getSupport=i.prototype.GetSupport,i.prototype.getSupportVertex=i.prototype.GetSupportVertex,b.exports=i},z:function(a,b,c,d){var e=a("1"),f=function(){b2Shape.prototype.__varz.call(this),this.__varz(),this.__constructor.apply(this,arguments)};extend(f.prototype,b2Shape.prototype),f.prototype._super=b2Shape.prototype,f.prototype.__constructor=function(a){this._super.__constructor.apply(this,[]),this.m_type=b2Shape.e_circleShape,this.m_radius=a},f.prototype.__varz=function(){this.m_p=new e},f.prototype.Copy=function(){var a=new f;return a.Set(this),a},f.prototype.Set=function(a){this._super.Set.apply(this,[a]);if(isInstanceOf(a,f)){var b=a;this.m_p.SetV(b.m_p)}},f.prototype.TestPoint=function(a,b){var c=a.R,d=a.position.x+(c.col1.x*this.m_p.x+c.col2.x*this.m_p.y),e=a.position.y+(c.col1.y*this.m_p.x+c.col2.y*this.m_p.y);return d=b.x-d,e=b.y-e,d*d+e*e<=this.m_radius*this.m_radius},f.prototype.RayCast=function(a,b,c){var d=c.R,e=c.position.x+(d.col1.x*this.m_p.x+d.col2.x*this.m_p.y),f=c.position.y+(d.col1.y*this.m_p.x+d.col2.y*this.m_p.y),g=b.p1.x-e,h=b.p1.y-f,i=g*g+h*h-this.m_radius*this.m_radius,j=b.p2.x-b.p1.x,k=b.p2.y-b.p1.y,l=g*j+h*k,m=j*j+k*k,n=l*l-m*i;if(n<0||m<Number.MIN_VALUE)return!1;var o=-(l+Math.sqrt(n));return 0<=o&&o<=b.maxFraction*m?(o/=m,a.fraction=o,a.normal.x=g+o*j,a.normal.y=h+o*k,a.normal.Normalize(),!0):!1},f.prototype.ComputeAABB=function(a,b){var c=b.R,d=b.position.x+(c.col1.x*this.m_p.x+c.col2.x*this.m_p.y),e=b.position.y+(c.col1.y*this.m_p.x+c.col2.y*this.m_p.y);a.lowerBound.Set(d-this.m_radius,e-this.m_radius),a.upperBound.Set(d+this.m_radius,e+this.m_radius)},f.prototype.ComputeMass=function(a,b){a.mass=b*b2Settings.b2_pi*this.m_radius*this.m_radius,a.center.SetV(this.m_p),a.I=a.mass*(.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*this.m_p.y))},f.prototype.ComputeSubmergedArea=function(a,b,c,d){var e=b2Math.MulX(c,this.m_p),f=-(b2Math.Dot(a,e)-b);if(f<-this.m_radius+Number.MIN_VALUE)return 0;if(f>this.m_radius)return d.SetV(e),Math.PI*this.m_radius*this.m_radius;var g=this.m_radius*this.m_radius,h=f*f,i=g*(Math.asin(f/this.m_radius)+Math.PI/2)+f*Math.sqrt(g-h),j=-2/3*Math.pow(g-h,1.5)/i;return d.x=e.x+a.x*j,d.y=e.y+a.y*j,i},f.prototype.GetLocalPosition=function(){return this.m_p},f.prototype.SetLocalPosition=function(a){this.m_p.SetV(a)},f.prototype.GetRadius=function(){return this.m_radius},f.prototype.SetRadius=function(a){this.m_radius=a},f.prototype.m_p=new e,f.prototype.copy=f.prototype.Copy,f.prototype.set=f.prototype.Set,f.prototype.testPoint=f.prototype.TestPoint,f.prototype.rayCast=f.prototype.RayCast,f.prototype.computeAABB=f.prototype.ComputeAABB,f.prototype.computeMass=f.prototype.ComputeMass,f.prototype.computeSubmergedArea=f.prototype.ComputeSubmergedArea,f.prototype.getLocalPosition=f.prototype.GetLocalPosition,f.prototype.setLocalPosition=f.prototype.SetLocalPosition,f.prototype.getRadius=f.prototype.GetRadius,f.prototype.setRadius=f.prototype.SetRadius,b.exports=f},10:function(a,b,c,d){var e=a("1"),f=a("w"),g=function(){this.__varz(),this.__constructor.apply(this,arguments)};g.prototype.__constructor=function(){this.m_drawFlags=0},g.prototype.__varz=function(){},g.e_shapeBit=1,g.e_jointBit=2,g.e_aabbBit=4,g.e_pairBit=8,g.e_centerOfMassBit=16,g.e_controllerBit=32,g.prototype.SetFlags=function(a){this.m_drawFlags=a},g.prototype.GetFlags=function(){return this.m_drawFlags},g.prototype.AppendFlags=function(a){this.m_drawFlags|=a},g.prototype.ClearFlags=function(a){this.m_drawFlags&=~a},g.prototype.SetSprite=function(a){this.m_sprite=a},g.prototype.GetSprite=function(){return this.m_sprite},g.prototype.SetDrawScale=function(a){this.m_drawScale=a},g.prototype.GetDrawScale=function(){return this.m_drawScale},g.prototype.SetLineThickness=function(a){this.m_lineThickness=a},g.prototype.GetLineThickness=function(){return this.m_lineThickness},g.prototype.SetAlpha=function(a){this.m_alpha=a},g.prototype.GetAlpha=function(){return this.m_alpha},g.prototype.SetFillAlpha=function(a){this.m_fillAlpha=a},g.prototype.GetFillAlpha=function(){return this.m_fillAlpha},g.prototype.SetXFormScale=function(a){this.m_xformScale=a},g.prototype.GetXFormScale=function(){return this.m_xformScale},g.prototype.Clear=function(){this.m_sprite.clearRect(0,0,this.m_sprite.canvas.width,this.m_sprite.canvas.height)},g.prototype.Y=function(a){return this.m_sprite.canvas.height-a},g.prototype.ToWorldPoint=function(a){return new e(a.x/this.m_drawScale,this.Y(a.y)/this.m_drawScale)},g.prototype.ColorStyle=function(a,b){return"rgba("+a.r+", "+a.g+", "+a.b+", "+b+")"},g.prototype.DrawPolygon=function(a,b,c){this.m_sprite.graphics.lineStyle(this.m_lineThickness,c.color,this.m_alpha),this.m_sprite.graphics.moveTo(a[0].x*this.m_drawScale,a[0].y*this.m_drawScale);for(var d=1;d<b;d++)this.m_sprite.graphics.lineTo(a[d].x*this.m_drawScale,a[d].y*this.m_drawScale);this.m_sprite.graphics.lineTo(a[0].x*this.m_drawScale,a[0].y*this.m_drawScale)},g.prototype.DrawSolidPolygon=function(a,b,c){this.m_sprite.strokeSyle=this.ColorStyle(c,this.m_alpha),this.m_sprite.lineWidth=this.m_lineThickness,this.m_sprite.fillStyle=this.ColorStyle(c,this.m_fillAlpha),this.m_sprite.beginPath(),this.m_sprite.moveTo(a[0].x*this.m_drawScale,this.Y(a[0].y*this.m_drawScale));for(var d=1;d<b;d++)this.m_sprite.lineTo(a[d].x*this.m_drawScale,this.Y(a[d].y*this.m_drawScale));this.m_sprite.lineTo(a[0].x*this.m_drawScale,this.Y(a[0].y*this.m_drawScale)),this.m_sprite.fill(),this.m_sprite.stroke(),this.m_sprite.closePath()},g.prototype.DrawCircle=function(a,b,c){this.m_sprite.graphics.lineStyle(this.m_lineThickness,c.color,this.m_alpha),this.m_sprite.graphics.drawCircle(a.x*this.m_drawScale,a.y*this.m_drawScale,b*this.m_drawScale)},g.prototype.DrawSolidCircle=function(a,b,c,d){this.m_sprite.strokeSyle=this.ColorStyle(d,this.m_alpha),this.m_sprite.lineWidth=this.m_lineThickness,this.m_sprite.fillStyle=this.ColorStyle(d,this.m_fillAlpha),this.m_sprite.beginPath(),this.m_sprite.arc(a.x*this.m_drawScale,this.Y(a.y*this.m_drawScale),b*this.m_drawScale,0,Math.PI*2,!0),this.m_sprite.fill(),this.m_sprite.stroke(),this.m_sprite.closePath()},g.prototype.DrawSegment=function(a,b,c){this.m_sprite.lineWidth=this.m_lineThickness,this.m_sprite.strokeSyle=this.ColorStyle(c,this.m_alpha),this.m_sprite.beginPath(),this.m_sprite.moveTo(a.x*this.m_drawScale,this.Y(a.y*this.m_drawScale)),this.m_sprite.lineTo(b.x*this.m_drawScale,this.Y(b.y*this.m_drawScale)),this.m_sprite.stroke(),this.m_sprite.closePath()},g.prototype.DrawTransform=function(a){this.m_sprite.lineWidth=this.m_lineThickness,this.m_sprite.strokeSyle=this.ColorStyle(new f(255,0,0),this.m_alpha),this.m_sprite.beginPath(),this.m_sprite.moveTo(a.position.x*this.m_drawScale,this.Y(a.position.y*this.m_drawScale)),this.m_sprite.lineTo((a.position.x+this.m_xformScale*a.R.col1.x)*this.m_drawScale,this.Y((a.position.y+this.m_xformScale*a.R.col1.y)*this.m_drawScale)),this.m_sprite.stroke(),this.m_sprite.closePath(),this.m_sprite.strokeSyle=this.ColorStyle(new f(0,255,0),this.m_alpha),this.m_sprite.beginPath(),this.m_sprite.moveTo(a.position.x*this.m_drawScale,this.Y(a.position.y*this.m_drawScale)),this.m_sprite.lineTo((a.position.x+this.m_xformScale*a.R.col2.x)*this.m_drawScale,this.Y((a.position.y+this.m_xformScale*a.R.col2.y)*this.m_drawScale)),this.m_sprite.stroke(),this.m_sprite.closePath()},g.prototype.m_drawFlags=0,g.prototype.m_sprite=null,g.prototype.m_drawScale=1,g.prototype.m_lineThickness=1,g.prototype.m_alpha=1,g.prototype.m_fillAlpha=1,g.prototype.m_xformScale=1,g.prototype.setFlags=g.prototype.SetFlags,g.prototype.getFlags=g.prototype.GetFlags,g.prototype.appendFlags=g.prototype.AppendFlags,g.prototype.clearFlags=g.prototype.ClearFlags,g.prototype.setSprite=g.prototype.SetSprite,g.prototype.getSprite=g.prototype.GetSprite,g.prototype.setDrawScale=g.prototype.SetDrawScale,g.prototype.getDrawScale=g.prototype.GetDrawScale,g.prototype.setLineThickness=g.prototype.SetLineThickness,g.prototype.getLineThickness=g.prototype.GetLineThickness,g.prototype.setAlpha=g.prototype.SetAlpha,g.prototype.getAlpha=g.prototype.GetAlpha,g.prototype.setFillAlpha=g.prototype.SetFillAlpha,g.prototype.getFillAlpha=g.prototype.GetFillAlpha,g.prototype.setXFormScale=g.prototype.SetXFormScale,g.prototype.getXFormScale=g.prototype.GetXFormScale,g.prototype.clear=g.prototype.Clear,g.prototype.y=g.prototype.Y,g.prototype.toWorldPoint=g.prototype.ToWorldPoint,g.prototype.colorStyle=g.prototype.ColorStyle,g.prototype.drawPolygon=g.prototype.DrawPolygon,g.prototype.drawSolidPolygon=g.prototype.DrawSolidPolygon,g.prototype.drawCircle=g.prototype.DrawCircle,g.prototype.drawSolidCircle=g.prototype.DrawSolidCircle,g.prototype.drawSegment=g.prototype.DrawSegment,g.prototype.drawTransform=g.prototype.DrawTransform,b.exports=g}})
